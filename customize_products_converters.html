<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="keywords" content="Retail Banking Widget Collection, BACKBASE, services">
<title>Customize Product Converters</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<style>.toc-current{font-weight: bold;} .toc-root{font-family: "Open Sans","DejaVu Sans",sans-serif;
                         font-size: 0.9em;} #content{display: flex; flex-direction: column; flex: 1 1 auto;}
               .nav-footer{text-align: center; margin-top: auto;}
               .nav-footer > p > a {white-space: nowrap;}</style>
</head>
<body id="customize_products_converters" class="book toc2 toc-left">
<div id="header">
<h1>Customize Product Converters</h1>
<div class="details">
<span id="revnumber">version 3.10.1</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<p><span class="toc-root toc-current"><a href="index.html">Retail Banking Widget Collection</a></span></p><ul class="sectlevel1">
<li><a href="understand.html">Understand Retail Banking Widget Collection v3.10.1</a>
<ul class="sectlevel2">
<li><a href="what_are_widget_collections.html">What is Retail Banking Widget Collection</a>
</li>
<li><a href="entitlements_understand.html">Understand Access Control</a>
</li>
<li><a href="actions_understand.html">Understand Actions</a>
</li>
<li><a href="accountstatements_understand.html">Understand Account Statements</a>
<ul class="sectlevel3">
<li><a href="web_account_statements.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="authentication_understand.html">Understand Authentication</a>
<ul class="sectlevel3">
<li><a href="web_authentication.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="authorized_users_understand.html">Understand Authorized Users</a>
<ul class="sectlevel3">
<li><a href="web_authorized_users.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="billpay_understand.html">Understand Bill Pay</a>
<ul class="sectlevel3">
<li><a href="web_billpay.html">Web widgets</a>
</li>
<li><a href="native_bill_pay.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="cardmanagement_understand.html">Understand Card Management</a>
<ul class="sectlevel3">
<li><a href="web_card_management.html">Web widgets</a>
</li>
<li><a href="native_card_management.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="consents_understand.html">Understand Consents</a>
<ul class="sectlevel3">
<li><a href="web_consents.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="contacts_understand.html">Understand Contacts</a>
<ul class="sectlevel3">
<li><a href="web_contacts.html">Web widgets</a>
</li>
<li><a href="native_contacts.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="messages_understand.html">Understand Messages</a>
<ul class="sectlevel3">
<li><a href="web_messages.html">Web widgets</a>
</li>
<li><a href="native_messages.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="notifications_understand.html">Understand Notifications</a>
<ul class="sectlevel3">
<li><a href="web_notifications.html">Web widgets</a>
</li>
<li><a href="native_notifications.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="payments_understand.html">Understand Payments</a>
<ul class="sectlevel3">
<li><a href="web_payments.html">Web widgets</a>
</li>
<li><a href="native_payments.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="pfm_understand.html">Understand Personal Finance Management</a>
<ul class="sectlevel3">
<li><a href="web_pfm.html">Web widgets</a>
</li>
<li><a href="native_pfm.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="places_understand.html">Understand Places</a>
<ul class="sectlevel3">
<li><a href="web_places.html">Web widgets</a>
</li>
<li><a href="native_places.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="product_summary_understand.html">Understand Products</a>
<ul class="sectlevel3">
<li><a href="web_products.html">Web widgets</a>
</li>
<li><a href="native_products.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="rdc_understand.html">Understand Remote Deposit Capture</a>
<ul class="sectlevel3">
<li><a href="native_rdc.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="self_enrollment_understand.html">Understand Self Enrollment</a>
<ul class="sectlevel3">
<li><a href="web_self_enrollment.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="transaction_list_understand.html">Understand Transactions</a>
<ul class="sectlevel3">
<li><a href="web_transactions.html">Web widgets</a>
</li>
<li><a href="native_transactions.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="user_self_service.html">Understand User Self Service</a>
<ul class="sectlevel3">
<li><a href="web_user_self_service.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="user_profile_understand.html">Understand User Profile</a>
<ul class="sectlevel3">
<li><a href="web_user_profile.html">Web widgets</a>
</li>
<li><a href="native_user_profile.html">Native mobile widgets</a>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="install_and_configure.html">Install</a>
<ul class="sectlevel2">
<li><a href="install_the_lean_page_template.html">Install the lean page template for Widget Collection 3</a>
</li>
<li><a href="setup_widget_development_environment.html">Set up a widget development environment</a>
</li>
</ul>
</li>
<li><a href="use.html">Adopt</a>
<ul class="sectlevel2">
<li><a href="adopt_omni_payment_widget.html">Adopt the Initiate omni payment widget</a>
</li>
<li><a href="adopt_payment_wizard_widget.html">Adopt the Payment Wizard widget</a>
</li>
<li><a href="configure_navigation_notifications_widgets.html">Configure navigation for Notifications widgets</a>
</li>
<li><a href="how_to_use_theming.html">Use theming</a>
</li>
<li><a href="use_backbase_app.html">Use the Retail Banking Mobile App with Community</a>
</li>
<li><a href="refresh_widget_data_automatically.html">Refresh widget data in the same view automatically</a>
</li>
<li><a href="configure_account_numbers_displaying_in_products.html">Configure account numbers formatting for Products widgets</a>
</li>
<li><a href="synchronize_masking_behavior_in_products.html">Synchronize masking behavior with backed in Products widgets.</a>
</li>
</ul>
</li>
<li><a href="extend_and_build.html">Extend and build</a>
<ul class="sectlevel2">
<li><a href="extend_and_build_with_wc3.html">Extend and build with Widget Collection 3</a>
<ul class="sectlevel3">
<li><a href="configure_place_types.html">Customize the Find branches and ATMs widget</a>
</li>
<li><a href="field_mapping.html">Field mapping</a>
</li>
<li><a href="country_injection.html">Country injection</a>
</li>
<li><a href="configure_self_enrollment_route_guard.html">Customize Self Enrollment with a route guard</a>
</li>
<li><a href="configure_self_enrollment_identification_form.html">Customize the Self Enrollment with Identification form</a>
</li>
</ul>
</li>
<li><a href="extend_and_build_native.html">Extend and build native mobile apps</a>
<ul class="sectlevel3">
<li><a href="understanding_native_mobile_apps.html">Understand native mobile apps</a>
</li>
<li><a href="search_bar_framework.html">Understand the search bar framework</a>
</li>
<li><a href="integrating_a_mobile_widget_collection.html">Integrate a mobile widget collection</a>
</li>
<li><a href="implementing_an_oauth_20_compatible_auth_client.html">Implement an OAuth 2.0-compatible Auth Client</a>
</li>
<li><a href="build_rest_request.html">Build a REST request (iOS only)</a>
</li>
<li><a href="integrating_mobile_widgets.html">Install native mobile widgets</a>
</li>
<li><a href="integrating_native_client.html">Install native mobile clients</a>
</li>
<li><a href="journeys_in_widget_architecture.html">Integrate journeys in a widget-based mobile app</a>
</li>
<li><a href="customize_payment_order_widget.html">Customize the Create payment order widget</a>
</li>
<li><a href="customize_products_converters.html"><span class="toc-current">Customize Product Converters</span></a>
</li>
<li><a href="bill_pay_usage_guide.html">Integrate the Schedule bill pay widget along with the Create bill payment widget</a>
</li>
<li><a href="transactions_filter_usage_guide.html">Integrate the Filter transactions widget with the View transactions widget</a>
</li>
<li><a href="integrate_transaction_details_widget.html">Integrate the View transaction details widget in your experience</a>
</li>
<li><a href="integrate_transactions_filter_amount_range_widget.html">Integrate the Filter transactions by amount range widget with the Filter transactions widget</a>
</li>
<li><a href="integrate_transactions_filter_date_range_widget.html">Integrate the Filter transactions by date range widget with the View transactions widget</a>
</li>
<li><a href="integrate_transactions_filter_type_widget.html">Integrate the Filter transactions by transaction type widget with the Filter transactions widget</a>
</li>
<li><a href="integrate_view_check_images_widget.html">Integrate the View check images widget with the View transaction details widget</a>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="reference.html">Reference</a>
<ul class="sectlevel2">
<li><a href="web_reference.html">Web widgets</a>
<ul class="sectlevel3">
<li><a href="account_information_consent_reference.html">Account information consent</a>
</li>
<li><a href="account_information_dashboard_revoke_reference.html">Account information dashboard and revoke</a>
</li>
<li><a href="manage_retail_notification_preferences_reference.html">Manage retail notification preferences</a>
</li>
<li><a href="link_external_account_reference.html">Connect external account</a>
</li>
<li><a href="contact_manager_reference.html">Contact manager</a>
</li>
<li><a href="authorized_user_create_reference.html">Create authorized user</a>
</li>
<li><a href="self_enrollment_create_account_reference.html">Create online banking account</a>
</li>
<li><a href="create_message_reference.html">Compose message by the customer</a>
</li>
<li><a href="bill_pay_auto_enrolment_reference.html">Enroll bill pay automatically</a>
</li>
<li><a href="bill_pay_ebills_payveris_enrolment_reference.html">Enroll Payveris eBills</a>
</li>
<li><a href="places_reference.html">Find branches and ATMs</a>
</li>
<li><a href="bill_pay_enrolment_guard_reference.html">Guard bill pay enrollment</a>
</li>
<li><a href="omni_payment_reference.html">Initiate omni payment</a>
</li>
<li><a href="payment_wizard_reference.html">Initiate payment wizard</a>
</li>
<li><a href="list_account_information_consents_reference.html">List account information consents</a>
</li>
<li><a href="login_reference.html">Log in user</a>
</li>
<li><a href="notification_badge_reference.html">Notification badge</a>
</li>
<li><a href="bill_pay_manage_payee_reference.html">Manage bill payee</a>
</li>
<li><a href="bill_pay_manage_payments_reference.html">Manage bill payments</a>
</li>
<li><a href="budget_reference.html">Manage budgets</a>
</li>
<li><a href="card_management_details_reference.html">Manage cards</a>
</li>
<li><a href="product_summary_manage_accounts_reference.html">Manage retail account settings</a>
</li>
<li><a href="saving_goals_reference.html">Manage saving goals</a>
</li>
<li><a href="card_management_travel_notice_reference.html">Manage travel notice</a>
</li>
<li><a href="upcoming_payments_reference.html">Manage upcoming payments</a>
</li>
<li><a href="manage_user_security_reference.html">Manage user security</a>
</li>
<li><a href="user_manage_profile_reference.html">Manage user profile - non-admin</a>
</li>
<li><a href="payment_initiation_consent_reference.html">Payment initiation consent</a>
</li>
<li><a href="self_enrollment_identification_reference.html">Provide information for self-enrollment</a>
</li>
<li><a href="request_stop_checks_reference.html">Request stop checks</a>
</li>
<li><a href="product_summary_account_selector_reference.html">Select retail account</a>
</li>
<li><a href="self_enrollment_verification_reference.html">Verify identity for self-enrollment</a>
</li>
<li><a href="left_to_spend_reference.html">View amount left to spend</a>
</li>
<li><a href="authorized_user_view_reference.html">View authorized users</a>
</li>
<li><a href="account_statements_list_reference.html">View and download retail account statements</a>
</li>
<li><a href="bill_pay_payee_list_reference.html">View bill payees</a>
</li>
<li><a href="bill_pay_payee_summary_reference.html">View bill payee summary</a>
</li>
<li><a href="bill_pay_payments_reference.html">View bill payments</a>
</li>
<li><a href="card_management_overview_reference.html">View cards</a>
</li>
<li><a href="messages_conversation_thread_reference.html">View conversation thread by the customer</a>
</li>
<li><a href="messages_conversations_list_reference.html">View messages by the customer</a>
</li>
<li><a href="income_spending_analysis_reference.html">View income and spending by category</a>
</li>
<li><a href="self_enrollment_locked_out_reference.html">View locked out message for self-enrollment</a>
</li>
<li><a href="turnovers_reference.html">View monthly turnovers chart</a>
</li>
<li><a href="product_summary_view_details_reference.html">View retail account details</a>
</li>
<li><a href="product_summary_list_reference.html">View retail account list</a>
</li>
<li><a href="self_enrollment_confirmation_reference.html">View self-enrollment confirmation message</a>
</li>
<li><a href="view_sticky_popup_notifications_reference.html">View sticky and pop-up notifications</a>
</li>
<li><a href="stop_checks_list_reference.html">View stop check payment requests</a>
</li>
<li><a href="top_metrics_reference.html">View top spending metrics</a>
</li>
<li><a href="transactions_list_reference.html">View transactions list</a>
</li>
<li><a href="quick_transfer_reference.html">Quick transfer</a>
</li>
</ul>
</li>
<li><a href="native_reference.html">Native mobile widgets</a>
<ul class="sectlevel3">
<li><a href="bill_pay_native_reference.html">Manage bill payments</a>
</li>
<li><a href="bill_pay_form_native_reference.html">Create bill payment</a>
</li>
<li><a href="bill_pay_schedule_native_reference.html">Schedule bill payment</a>
</li>
<li><a href="budgets_native_reference.html">Manage budgets</a>
</li>
<li><a href="card_management_native_reference.html">Manage cards</a>
</li>
<li><a href="categories_native_reference.html">View income and spending by category</a>
</li>
<li><a href="contacts_native_reference.html">Manage contacts</a>
</li>
<li><a href="message_center_native_reference.html">Compose and receive messages</a>
</li>
<li><a href="notifications_native_reference.html">Manage notifications</a>
</li>
<li><a href="payment_order_native_reference.html">Create payment order</a>
</li>
<li><a href="schedule_payment_order_native_reference.html">Schedule payment order</a>
</li>
<li><a href="pin_request_native_reference.html">Request PIN</a>
</li>
<li><a href="pin_reset_native_reference.html">Reset PIN</a>
</li>
<li><a href="places_native_reference.html">Find branches and ATMs</a>
</li>
<li><a href="place_details_native_reference.html">View branch and ATM details</a>
</li>
<li><a href="product_details_native_reference.html">Manage account</a>
</li>
<li><a href="products_native_reference.html">Manage accounts</a>
</li>
<li><a href="rdc_form_native_reference.html">Submit remote deposit check</a>
</li>
<li><a href="rdc_history_native_reference.html">View remote deposit capture history</a>
</li>
<li><a href="saving_goals_native_reference.html">Manage saving goals</a>
</li>
<li><a href="selector_widget.html">Selector widget</a>
</li>
<li><a href="transactions_native_reference.html">View transactions, turnovers, and spending/income analysis</a>
</li>
<li><a href="transaction_details_native_reference.html">View transaction details</a>
</li>
<li><a href="transactions_check_images_native_reference.html">View check images</a>
</li>
<li><a href="transactions_filter_native_reference.html">Filter transactions</a>
</li>
<li><a href="transactions_filter_amount_range_native_reference.html">Filter transactions by amount range</a>
</li>
<li><a href="transactions_filter_date_range_native_reference.html">Filter transactions by date range</a>
</li>
<li><a href="transactions_filter_type_native_reference.html">Filter transactions by transaction type</a>
</li>
<li><a href="travel_notice_form_native_reference.html">Create travel notice</a>
</li>
<li><a href="travel_notice_list_native_reference.html">View travel notices</a>
</li>
<li><a href="user_profile_overview_native_reference.html">View user profile - non-admin</a>
</li>
</ul>
</li>
<li><a href="native_client_reference.html">Native mobile clients</a>
<ul class="sectlevel3">
<li><a href="access_control_client_reference.html">Access control</a>
</li>
<li><a href="actions_client_reference.html">Actions</a>
</li>
<li><a href="bill_pay_client_reference.html">Bill pay</a>
</li>
<li><a href="card_management_client_reference.html">Card management</a>
</li>
<li><a href="contacts_client_reference.html">Contacts</a>
</li>
<li><a href="notifications_client_reference.html">Notifications</a>
</li>
<li><a href="message_center_client_reference.html">Compose and receive messages</a>
</li>
<li><a href="payment_order_client_reference.html">Payment order</a>
</li>
<li><a href="places_client_reference.html">Places</a>
</li>
<li><a href="products_client_reference.html">Products</a>
</li>
<li><a href="pfm_client_reference.html">Personal finance management</a>
</li>
<li><a href="rdc_client_reference.html">Remote deposit capture</a>
</li>
<li><a href="transactions_client_reference.html">Transactions</a>
</li>
<li><a href="user_profile_client_reference.html">User profile</a>
</li>
</ul>
</li>
<li><a href="bb_product_compatibility.html">Backbase product compatibility</a>
</li>
<li><a href="retirement.html">Backbase software lifecycle</a>
</li>
<li><a href="common_utils.html">Common Utils</a>
</li>
<li><a href="experimental_features.html">Experimental features</a>
</li>
<li><a href="glossary.html">Glossary</a>
</li>
<li><a href="modendtbl.html">Module/Endpoint list</a>
</li>
<li><a href="native_apis.html">Native APIs</a>
</li>
<li><a href="payments_schematics_reference.html">Payments Schematics</a>
</li>
<li><a href="platform_support.html">Software requirements</a>
</li>
<li><a href="third_party_dependencies.html">Third-party dependencies</a>
</li>
<li><a href="troubleshoot_angular_10_upgrade.html">Troubleshooting Angular 10 upgrade</a>
</li>
</ul>
</li>
<li><a href="release_notes.html">Release notes</a>
<ul class="sectlevel2">
<li><a href="rb_3_10_1.html">Retail Banking Widget Collection v3.10.1</a>
</li>
<li><a href="rb_3100.html">Retail Banking Widget Collection v3.10.0</a>
</li>
<li><a href="rb_395.html">Retail Banking Widget Collection v3.9.5</a>
</li>
<li><a href="rb_394.html">Retail Banking Widget Collection v3.9.4</a>
</li>
<li><a href="rb_393.html">Retail Banking Widget Collection v3.9.3</a>
</li>
<li><a href="rb_392.html">Retail Banking Widget Collection v3.9.2</a>
</li>
<li><a href="rb_391.html">Retail Banking Widget Collection v3.9.1</a>
</li>
<li><a href="rb_390.html">Retail Banking Widget Collection v3.9.0</a>
<ul class="sectlevel3">
<li><a href="rb_390_web.html">Retail Banking Widget Collection v3.9.0 - Web</a>
</li>
<li><a href="rb_390_mob.html">Retail Banking Widget Collection v3.9.0 - Mobile</a>
</li>
</ul>
</li>
<li><a href="rb_381.html">Retail Banking Web Widget Collection v3.8.1</a>
</li>
<li><a href="rb_380.html">Retail Banking Web Widget Collection v3.8.0</a>
</li>
<li><a href="rb_371.html">Widget Collection Retail Banking v3.7.1</a>
<ul class="sectlevel3">
<li><a href="rb_371_web.html">Widget Collection Retail Banking v3.7.1 - Web</a>
</li>
<li><a href="rb_371_mob.html">Widget Collection Retail Banking v3.7.1 - Mobile</a>
</li>
</ul>
</li>
<li><a href="rb_370.html">Widget Collection Retail Banking v3.7.0</a>
</li>
<li><a href="rb_362.html">Widget Collection Retail Banking v3.6.2</a>
</li>
<li><a href="rb_361.html">Widget Collection Retail Banking v3.6.1</a>
</li>
<li><a href="rb_360.html">Widget Collection Retail Banking v3.6.0</a>
</li>
<li><a href="rb_353.html">Widget Collection Retail Banking v3.5.3</a>
</li>
<li><a href="rb_352.html">Widget Collection Retail Banking v3.5.2</a>
</li>
<li><a href="rb_351.html">Widget Collection Retail Banking v3.5.1</a>
</li>
<li><a href="rb_350.html">Widget Collection Retail Banking v3.5.0</a>
</li>
<li><a href="rb_343.html">Widget Collection Retail Banking v3.4.3</a>
</li>
<li><a href="rb_342.html">Widget Collection Retail Banking v3.4.2</a>
</li>
<li><a href="rb_341.html">Widget Collection Retail Banking v3.4.1</a>
</li>
<li><a href="rb_340.html">Widget Collection Retail Banking v3.4.0</a>
</li>
<li><a href="rb_330.html">Widget Collection Retail Banking v3.3.0</a>
</li>
<li><a href="rb_321.html">Retail Banking Widget Collection v3.2.1</a>
</li>
<li><a href="rb_320.html">Retail Banking Widget Collection v3.2.0</a>
</li>
<li><a href="rb_315.html">Retail Banking Widget Collection v3.1.5</a>
</li>
<li><a href="rb_314.html">Retail Banking Widget Collection v3.1.4</a>
</li>
<li><a href="rb_313.html">Retail Banking Widget Collection v3.1.3</a>
</li>
<li><a href="rbrn_312.html">Retail Banking Widget Collection v3.1.2</a>
</li>
<li><a href="rbrn_311.html">Retail Banking Widget Collection v3.1.1</a>
</li>
<li><a href="rbrn_310.html">Retail Banking Widget Collection v3.1.0</a>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<h1 id="customize_products_converters" class="sect0">Customize Product Converters</h1>
          <div class="paragraph">
<p>In the Products client, due to the different type of products and the business logic difference between different countries,
 customisation options are provided for Recipient Contract implementation - <a href="https://docs.backbase.com/extranet/portal/mobile/android-apidocs//retail/common-utils/3.9.0.3/index.html">Android</a> and
<a href="https://docs.backbase.com/extranet/portal/mobile/ios-apidocs/retail/common-utils/3.9.0.1/Protocols/RecipientContract.html">iOS</a>
 by using factory pattern.</p>
</div>
<div class="paragraph">
<p>If no customisation provided, the default implementation will be applied in the product converter classes.
These converter classes create recipient model with a generic business use case for most of the countries,
such as account numbers. In most of the product converters, if there is an IBAN number present, account number is set
as IBAN number. This will not be useful for US payments, therefore you will have to customise the product converter.
Please check API docs of the Products client to see the default values of specific fields. See <a href="native_apis.html">Native APIs</a>.</p>
</div>
<div class="paragraph">
<p>This document is created to show how to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Customize Product Converter Factory</p>
</li>
<li>
<p>Use Existing Product Converters</p>
</li>
</ul>
</div>
<h2 id="_customize_product_converter_factory" class="discrete">Customize Product Converter Factory</h2>
<div class="paragraph">
<p>To customise existing implementation of parsing a specific product into <code>RecipientModel</code>, you need to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create a custom converter class.</p>
</li>
<li>
<p>Use custom converter through factory:</p>
<div class="ulist">
<ul>
<li>
<p>For iOS, Provide the custom converter in initializer.</p>
</li>
<li>
<p>For Android, register the custom converter to a new <code>ProductConverterFactory</code>, and provide the factory instance to the <code>ProductsClient</code>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>In this example, we want to customise the current account converter.</p>
</div>
<h3 id="_create_a_custom_converter_class" class="discrete">Create a custom converter class</h3>
<div class="ulist">
<ul>
<li>
<p>Create a new class</p>
</li>
<li>
<p>Implement product converter interface</p>
</li>
<li>
<p>Provide your custom parsing</p>
</li>
</ul>
</div>
<h5 id="_ios_16" class="discrete">iOS</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-swift" data-lang="swift">class CustomCurrentAccountProductConverter: NSObject, BBProductConverter {
    func convertProducts(_ products: [Any], withTypeIdentifier typeIdentifier: String?) -&gt; [RecipientModel] {
        var recipients:[RecipientModel] = []
        guard let products = products as? [BBCurrentAccount] else { return recipients }

        for eachProduct in products {
            let recipient = RecipientModel()

            // Set recipient model properties with custom values

            recipient.objectId = eachProduct.identifier
            recipient.accountName = eachProduct.name
            recipient.typeIdentifier = typeIdentifier
            recipient.currency = eachProduct.currency
            recipient.balance = eachProduct.availableBalance?.stringValue // default converter sets as bookedBalance
            recipient.accountNumber = eachProduct.bban // default converter sets as IBAN
            recipients.append(recipient)
        }
        return recipients
    }
}</code></pre>
</div>
</div>
<h5 id="_android_16" class="discrete">Android</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">class CustomConverter(
    private val serializer: Serializer
) : ProductConverter&lt;CurrentAccount&gt; {

    override fun convertToRecipientModel(product: CurrentAccount, identifier: Int): RecipientModel {
        return RecipientModel().apply {

            // Set recipient model properties with custom values

            accountName = product.name
            id = product.id
            balance = product.bookedBalance?.toPlainString()
            accountNumber = product.iban
            currency = product.currency?.let { Currency.getInstance(it) }
            typeIdentifier = identifier
            objectType = CurrentAccount::class.java.simpleName
            rawString = serializer.stringify(product)
        }
    }

}</code></pre>
</div>
</div>
<h3 id="_use_custom_converter_through_factory" class="discrete">Use custom converter through factory</h3>
<h5 id="_ios_17" class="discrete">iOS</h5>
<div class="ulist">
<ul>
<li>
<p>Create a custom mapping dictionary by using class name as a key</p>
</li>
<li>
<p>Create a factory by using that mapping dictionary</p>
</li>
<li>
<p>Create ProductsClient by using the factory</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>By this way, your custom product converter will be used while parsing current accounts to recipient model list.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-swift" data-lang="swift">let mapping = ["BBCurrentAccount": CustomCurrentAccountProductConverter.self]
let factory = BBProductConverterFactory.init(mapping: mapping)
let client = ProductsClient(productConverterFactory: factory)</code></pre>
</div>
</div>
<div class="paragraph">
<p>The mapping keys are stored with the same name as the class name. Therefore, you need to provide the right key depending on which product kind implementation, you will be customising.</p>
</div>
<div class="paragraph">
<p>Following are the keys and the default converters for iOS:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BBCreditCard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BBCreditCardConverter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BBCurrentAccount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BBCurrentAccountConverter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BBDebitCard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BBDebitCardConverter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BBInvestmentAccount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BBInvestmentAccountConverter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BBLoan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BBLoanConverter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BBSavingsAccount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BBSavingsAccountConverter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BBTermDeposit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BBTermDepositConverter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BBGeneralAccount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BBGeneralAccountConverter</p></td>
</tr>
</tbody>
</table>
<h5 id="_android_17" class="discrete">Android</h5>
<div class="ulist">
<ul>
<li>
<p>Create a new instance of <code>ProductConverterFactory</code>.</p>
</li>
<li>
<p>Register your custom converter with this new factory instance.</p>
</li>
<li>
<p>Set the product converter factory of the <code>ProductsClient</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>After setting a new factory, the ProductsClient will use the new factory instance for converting the products to recipient model.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">val factory = ProductConverterFactory()
factory.registerProductConverter(CurrentAccount::class.java, CustomConverter(GsonSerializer()))
Backbase.getInstance().getClient(ProductsClient::class.java).setProductConverterFactory(factory)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Following converters are by default part of any new <code>ProductConverterFactory</code> instance.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 50%;">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LoanConverter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InvestmentAccountConverter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DebitCardConverter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CreditCardConverter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeneralAccountConverter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CurrentAccountConverter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TermDepositConverter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SavingsAccountConverter</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>These default converters can be replaced by registering a custom converter for the any product. That is, when <code>CustomConverter</code> is registered for <code>CurrentAccount</code>, the default <code>CurrentAccountConverter</code> will not be used anymore.</p>
</div>
<h2 id="_use_existing_product_converters" class="discrete">Use Existing Product Converters</h2>
<div class="paragraph">
<p>There are 2 use cases:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Convert a product summary into recipient model list</p>
</li>
<li>
<p>Convert a single product into recipient model</p>
</li>
</ul>
</div>
<h3 id="_convert_a_product_summary_into_recipient_model_list" class="discrete">Convert a product summary into recipient model list</h3>
<div class="ulist">
<ul>
<li>
<p>Create an instance of the default or custom converter for product summary class</p>
</li>
<li>
<p>Use converter method within product summary class to convert the entire product summary into recipients</p>
</li>
</ul>
</div>
<h3 id="_ios_18" class="discrete">iOS</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-swift" data-lang="swift">let factory = BBProductConverterFactory.default()
let recipients = productSummary.convertToRecipientModelList(with: factory, forTypeIdentifier: "1")</code></pre>
</div>
</div>
<h3 id="_android_18" class="discrete">Android</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">val converter = ProductSummaryConverter()
val recipients = converter.convertProductSummaryToRecipientModelList(productSummary, 1)</code></pre>
</div>
</div>
<h3 id="_convert_a_single_product_into_recipient_model" class="discrete">Convert a single product into recipient model</h3>
<div class="paragraph">
<p>To convert a supported product kind to recipient model do the following implementation, in our scenario we would
like to convert savings account:</p>
</div>
<h3 id="_ios_19" class="discrete">iOS</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-swift" data-lang="swift">let converter = BBProductConverterFactory.default().converter(for: BBSavingsAccount.classForCoder())
let recipients = converter.convertProducts([savingsAccountObject], withTypeIdentifier: "1")
let savingsAccountRecipient = recipients.first</code></pre>
</div>
</div>
<h3 id="_android_19" class="discrete">Android</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">val converter = ProductSummaryConverter()
val savingsAccountRecipient = converter.convertToRecipientModel(savingsAccountObject, 1)</code></pre>
</div>
</div>
</div>
</body>
</html>