<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="keywords" content="Retail Banking Widget Collection, BACKBASE, services">
<title>Initiate omni payment</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<style>.toc-current{font-weight: bold;} .toc-root{font-family: "Open Sans","DejaVu Sans",sans-serif;
                         font-size: 0.9em;} #content{display: flex; flex-direction: column; flex: 1 1 auto;}
               .nav-footer{text-align: center; margin-top: auto;}
               .nav-footer > p > a {white-space: nowrap;}</style>
</head>
<body id="omni_payment_reference" class="book toc2 toc-left">
<div id="header">
<h1>Initiate omni payment</h1>
<div class="details">
<span id="revnumber">version 3.10.1</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<p><span class="toc-root toc-current"><a href="index.html">Retail Banking Widget Collection</a></span></p><ul class="sectlevel1">
<li><a href="understand.html">Understand Retail Banking Widget Collection v3.10.1</a>
<ul class="sectlevel2">
<li><a href="what_are_widget_collections.html">What is Retail Banking Widget Collection</a>
</li>
<li><a href="entitlements_understand.html">Understand Access Control</a>
</li>
<li><a href="actions_understand.html">Understand Actions</a>
</li>
<li><a href="accountstatements_understand.html">Understand Account Statements</a>
<ul class="sectlevel3">
<li><a href="web_account_statements.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="authentication_understand.html">Understand Authentication</a>
<ul class="sectlevel3">
<li><a href="web_authentication.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="authorized_users_understand.html">Understand Authorized Users</a>
<ul class="sectlevel3">
<li><a href="web_authorized_users.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="billpay_understand.html">Understand Bill Pay</a>
<ul class="sectlevel3">
<li><a href="web_billpay.html">Web widgets</a>
</li>
<li><a href="native_bill_pay.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="cardmanagement_understand.html">Understand Card Management</a>
<ul class="sectlevel3">
<li><a href="web_card_management.html">Web widgets</a>
</li>
<li><a href="native_card_management.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="consents_understand.html">Understand Consents</a>
<ul class="sectlevel3">
<li><a href="web_consents.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="contacts_understand.html">Understand Contacts</a>
<ul class="sectlevel3">
<li><a href="web_contacts.html">Web widgets</a>
</li>
<li><a href="native_contacts.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="messages_understand.html">Understand Messages</a>
<ul class="sectlevel3">
<li><a href="web_messages.html">Web widgets</a>
</li>
<li><a href="native_messages.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="notifications_understand.html">Understand Notifications</a>
<ul class="sectlevel3">
<li><a href="web_notifications.html">Web widgets</a>
</li>
<li><a href="native_notifications.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="payments_understand.html">Understand Payments</a>
<ul class="sectlevel3">
<li><a href="web_payments.html">Web widgets</a>
</li>
<li><a href="native_payments.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="pfm_understand.html">Understand Personal Finance Management</a>
<ul class="sectlevel3">
<li><a href="web_pfm.html">Web widgets</a>
</li>
<li><a href="native_pfm.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="places_understand.html">Understand Places</a>
<ul class="sectlevel3">
<li><a href="web_places.html">Web widgets</a>
</li>
<li><a href="native_places.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="product_summary_understand.html">Understand Products</a>
<ul class="sectlevel3">
<li><a href="web_products.html">Web widgets</a>
</li>
<li><a href="native_products.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="rdc_understand.html">Understand Remote Deposit Capture</a>
<ul class="sectlevel3">
<li><a href="native_rdc.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="self_enrollment_understand.html">Understand Self Enrollment</a>
<ul class="sectlevel3">
<li><a href="web_self_enrollment.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="transaction_list_understand.html">Understand Transactions</a>
<ul class="sectlevel3">
<li><a href="web_transactions.html">Web widgets</a>
</li>
<li><a href="native_transactions.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="user_self_service.html">Understand User Self Service</a>
<ul class="sectlevel3">
<li><a href="web_user_self_service.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="user_profile_understand.html">Understand User Profile</a>
<ul class="sectlevel3">
<li><a href="web_user_profile.html">Web widgets</a>
</li>
<li><a href="native_user_profile.html">Native mobile widgets</a>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="install_and_configure.html">Install</a>
<ul class="sectlevel2">
<li><a href="install_the_lean_page_template.html">Install the lean page template for Widget Collection 3</a>
</li>
<li><a href="setup_widget_development_environment.html">Set up a widget development environment</a>
</li>
</ul>
</li>
<li><a href="use.html">Adopt</a>
<ul class="sectlevel2">
<li><a href="adopt_omni_payment_widget.html">Adopt the Initiate omni payment widget</a>
</li>
<li><a href="adopt_payment_wizard_widget.html">Adopt the Payment Wizard widget</a>
</li>
<li><a href="configure_navigation_notifications_widgets.html">Configure navigation for Notifications widgets</a>
</li>
<li><a href="how_to_use_theming.html">Use theming</a>
</li>
<li><a href="use_backbase_app.html">Use the Retail Banking Mobile App with Community</a>
</li>
<li><a href="refresh_widget_data_automatically.html">Refresh widget data in the same view automatically</a>
</li>
<li><a href="configure_account_numbers_displaying_in_products.html">Configure account numbers formatting for Products widgets</a>
</li>
<li><a href="synchronize_masking_behavior_in_products.html">Synchronize masking behavior with backed in Products widgets.</a>
</li>
</ul>
</li>
<li><a href="extend_and_build.html">Extend and build</a>
<ul class="sectlevel2">
<li><a href="extend_and_build_with_wc3.html">Extend and build with Widget Collection 3</a>
<ul class="sectlevel3">
<li><a href="configure_place_types.html">Customize the Find branches and ATMs widget</a>
</li>
<li><a href="field_mapping.html">Field mapping</a>
</li>
<li><a href="country_injection.html">Country injection</a>
</li>
<li><a href="configure_self_enrollment_route_guard.html">Customize Self Enrollment with a route guard</a>
</li>
<li><a href="configure_self_enrollment_identification_form.html">Customize the Self Enrollment with Identification form</a>
</li>
</ul>
</li>
<li><a href="extend_and_build_native.html">Extend and build native mobile apps</a>
<ul class="sectlevel3">
<li><a href="understanding_native_mobile_apps.html">Understand native mobile apps</a>
</li>
<li><a href="search_bar_framework.html">Understand the search bar framework</a>
</li>
<li><a href="integrating_a_mobile_widget_collection.html">Integrate a mobile widget collection</a>
</li>
<li><a href="implementing_an_oauth_20_compatible_auth_client.html">Implement an OAuth 2.0-compatible Auth Client</a>
</li>
<li><a href="build_rest_request.html">Build a REST request (iOS only)</a>
</li>
<li><a href="integrating_mobile_widgets.html">Install native mobile widgets</a>
</li>
<li><a href="integrating_native_client.html">Install native mobile clients</a>
</li>
<li><a href="journeys_in_widget_architecture.html">Integrate journeys in a widget-based mobile app</a>
</li>
<li><a href="customize_payment_order_widget.html">Customize the Create payment order widget</a>
</li>
<li><a href="customize_products_converters.html">Customize Product Converters</a>
</li>
<li><a href="bill_pay_usage_guide.html">Integrate the Schedule bill pay widget along with the Create bill payment widget</a>
</li>
<li><a href="transactions_filter_usage_guide.html">Integrate the Filter transactions widget with the View transactions widget</a>
</li>
<li><a href="integrate_transaction_details_widget.html">Integrate the View transaction details widget in your experience</a>
</li>
<li><a href="integrate_transactions_filter_amount_range_widget.html">Integrate the Filter transactions by amount range widget with the Filter transactions widget</a>
</li>
<li><a href="integrate_transactions_filter_date_range_widget.html">Integrate the Filter transactions by date range widget with the View transactions widget</a>
</li>
<li><a href="integrate_transactions_filter_type_widget.html">Integrate the Filter transactions by transaction type widget with the Filter transactions widget</a>
</li>
<li><a href="integrate_view_check_images_widget.html">Integrate the View check images widget with the View transaction details widget</a>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="reference.html">Reference</a>
<ul class="sectlevel2">
<li><a href="web_reference.html">Web widgets</a>
<ul class="sectlevel3">
<li><a href="account_information_consent_reference.html">Account information consent</a>
</li>
<li><a href="account_information_dashboard_revoke_reference.html">Account information dashboard and revoke</a>
</li>
<li><a href="manage_retail_notification_preferences_reference.html">Manage retail notification preferences</a>
</li>
<li><a href="link_external_account_reference.html">Connect external account</a>
</li>
<li><a href="contact_manager_reference.html">Contact manager</a>
</li>
<li><a href="authorized_user_create_reference.html">Create authorized user</a>
</li>
<li><a href="self_enrollment_create_account_reference.html">Create online banking account</a>
</li>
<li><a href="create_message_reference.html">Compose message by the customer</a>
</li>
<li><a href="bill_pay_auto_enrolment_reference.html">Enroll bill pay automatically</a>
</li>
<li><a href="bill_pay_ebills_payveris_enrolment_reference.html">Enroll Payveris eBills</a>
</li>
<li><a href="places_reference.html">Find branches and ATMs</a>
</li>
<li><a href="bill_pay_enrolment_guard_reference.html">Guard bill pay enrollment</a>
</li>
<li><a href="omni_payment_reference.html"><span class="toc-current">Initiate omni payment</span></a>
</li>
<li><a href="payment_wizard_reference.html">Initiate payment wizard</a>
</li>
<li><a href="list_account_information_consents_reference.html">List account information consents</a>
</li>
<li><a href="login_reference.html">Log in user</a>
</li>
<li><a href="notification_badge_reference.html">Notification badge</a>
</li>
<li><a href="bill_pay_manage_payee_reference.html">Manage bill payee</a>
</li>
<li><a href="bill_pay_manage_payments_reference.html">Manage bill payments</a>
</li>
<li><a href="budget_reference.html">Manage budgets</a>
</li>
<li><a href="card_management_details_reference.html">Manage cards</a>
</li>
<li><a href="product_summary_manage_accounts_reference.html">Manage retail account settings</a>
</li>
<li><a href="saving_goals_reference.html">Manage saving goals</a>
</li>
<li><a href="card_management_travel_notice_reference.html">Manage travel notice</a>
</li>
<li><a href="upcoming_payments_reference.html">Manage upcoming payments</a>
</li>
<li><a href="manage_user_security_reference.html">Manage user security</a>
</li>
<li><a href="user_manage_profile_reference.html">Manage user profile - non-admin</a>
</li>
<li><a href="payment_initiation_consent_reference.html">Payment initiation consent</a>
</li>
<li><a href="self_enrollment_identification_reference.html">Provide information for self-enrollment</a>
</li>
<li><a href="request_stop_checks_reference.html">Request stop checks</a>
</li>
<li><a href="product_summary_account_selector_reference.html">Select retail account</a>
</li>
<li><a href="self_enrollment_verification_reference.html">Verify identity for self-enrollment</a>
</li>
<li><a href="left_to_spend_reference.html">View amount left to spend</a>
</li>
<li><a href="authorized_user_view_reference.html">View authorized users</a>
</li>
<li><a href="account_statements_list_reference.html">View and download retail account statements</a>
</li>
<li><a href="bill_pay_payee_list_reference.html">View bill payees</a>
</li>
<li><a href="bill_pay_payee_summary_reference.html">View bill payee summary</a>
</li>
<li><a href="bill_pay_payments_reference.html">View bill payments</a>
</li>
<li><a href="card_management_overview_reference.html">View cards</a>
</li>
<li><a href="messages_conversation_thread_reference.html">View conversation thread by the customer</a>
</li>
<li><a href="messages_conversations_list_reference.html">View messages by the customer</a>
</li>
<li><a href="income_spending_analysis_reference.html">View income and spending by category</a>
</li>
<li><a href="self_enrollment_locked_out_reference.html">View locked out message for self-enrollment</a>
</li>
<li><a href="turnovers_reference.html">View monthly turnovers chart</a>
</li>
<li><a href="product_summary_view_details_reference.html">View retail account details</a>
</li>
<li><a href="product_summary_list_reference.html">View retail account list</a>
</li>
<li><a href="self_enrollment_confirmation_reference.html">View self-enrollment confirmation message</a>
</li>
<li><a href="view_sticky_popup_notifications_reference.html">View sticky and pop-up notifications</a>
</li>
<li><a href="stop_checks_list_reference.html">View stop check payment requests</a>
</li>
<li><a href="top_metrics_reference.html">View top spending metrics</a>
</li>
<li><a href="transactions_list_reference.html">View transactions list</a>
</li>
<li><a href="quick_transfer_reference.html">Quick transfer</a>
</li>
</ul>
</li>
<li><a href="native_reference.html">Native mobile widgets</a>
<ul class="sectlevel3">
<li><a href="bill_pay_native_reference.html">Manage bill payments</a>
</li>
<li><a href="bill_pay_form_native_reference.html">Create bill payment</a>
</li>
<li><a href="bill_pay_schedule_native_reference.html">Schedule bill payment</a>
</li>
<li><a href="budgets_native_reference.html">Manage budgets</a>
</li>
<li><a href="card_management_native_reference.html">Manage cards</a>
</li>
<li><a href="categories_native_reference.html">View income and spending by category</a>
</li>
<li><a href="contacts_native_reference.html">Manage contacts</a>
</li>
<li><a href="message_center_native_reference.html">Compose and receive messages</a>
</li>
<li><a href="notifications_native_reference.html">Manage notifications</a>
</li>
<li><a href="payment_order_native_reference.html">Create payment order</a>
</li>
<li><a href="schedule_payment_order_native_reference.html">Schedule payment order</a>
</li>
<li><a href="pin_request_native_reference.html">Request PIN</a>
</li>
<li><a href="pin_reset_native_reference.html">Reset PIN</a>
</li>
<li><a href="places_native_reference.html">Find branches and ATMs</a>
</li>
<li><a href="place_details_native_reference.html">View branch and ATM details</a>
</li>
<li><a href="product_details_native_reference.html">Manage account</a>
</li>
<li><a href="products_native_reference.html">Manage accounts</a>
</li>
<li><a href="rdc_form_native_reference.html">Submit remote deposit check</a>
</li>
<li><a href="rdc_history_native_reference.html">View remote deposit capture history</a>
</li>
<li><a href="saving_goals_native_reference.html">Manage saving goals</a>
</li>
<li><a href="selector_widget.html">Selector widget</a>
</li>
<li><a href="transactions_native_reference.html">View transactions, turnovers, and spending/income analysis</a>
</li>
<li><a href="transaction_details_native_reference.html">View transaction details</a>
</li>
<li><a href="transactions_check_images_native_reference.html">View check images</a>
</li>
<li><a href="transactions_filter_native_reference.html">Filter transactions</a>
</li>
<li><a href="transactions_filter_amount_range_native_reference.html">Filter transactions by amount range</a>
</li>
<li><a href="transactions_filter_date_range_native_reference.html">Filter transactions by date range</a>
</li>
<li><a href="transactions_filter_type_native_reference.html">Filter transactions by transaction type</a>
</li>
<li><a href="travel_notice_form_native_reference.html">Create travel notice</a>
</li>
<li><a href="travel_notice_list_native_reference.html">View travel notices</a>
</li>
<li><a href="user_profile_overview_native_reference.html">View user profile - non-admin</a>
</li>
</ul>
</li>
<li><a href="native_client_reference.html">Native mobile clients</a>
<ul class="sectlevel3">
<li><a href="access_control_client_reference.html">Access control</a>
</li>
<li><a href="actions_client_reference.html">Actions</a>
</li>
<li><a href="bill_pay_client_reference.html">Bill pay</a>
</li>
<li><a href="card_management_client_reference.html">Card management</a>
</li>
<li><a href="contacts_client_reference.html">Contacts</a>
</li>
<li><a href="notifications_client_reference.html">Notifications</a>
</li>
<li><a href="message_center_client_reference.html">Compose and receive messages</a>
</li>
<li><a href="payment_order_client_reference.html">Payment order</a>
</li>
<li><a href="places_client_reference.html">Places</a>
</li>
<li><a href="products_client_reference.html">Products</a>
</li>
<li><a href="pfm_client_reference.html">Personal finance management</a>
</li>
<li><a href="rdc_client_reference.html">Remote deposit capture</a>
</li>
<li><a href="transactions_client_reference.html">Transactions</a>
</li>
<li><a href="user_profile_client_reference.html">User profile</a>
</li>
</ul>
</li>
<li><a href="bb_product_compatibility.html">Backbase product compatibility</a>
</li>
<li><a href="retirement.html">Backbase software lifecycle</a>
</li>
<li><a href="common_utils.html">Common Utils</a>
</li>
<li><a href="experimental_features.html">Experimental features</a>
</li>
<li><a href="glossary.html">Glossary</a>
</li>
<li><a href="modendtbl.html">Module/Endpoint list</a>
</li>
<li><a href="native_apis.html">Native APIs</a>
</li>
<li><a href="payments_schematics_reference.html">Payments Schematics</a>
</li>
<li><a href="platform_support.html">Software requirements</a>
</li>
<li><a href="third_party_dependencies.html">Third-party dependencies</a>
</li>
<li><a href="troubleshoot_angular_10_upgrade.html">Troubleshooting Angular 10 upgrade</a>
</li>
</ul>
</li>
<li><a href="release_notes.html">Release notes</a>
<ul class="sectlevel2">
<li><a href="rb_3_10_1.html">Retail Banking Widget Collection v3.10.1</a>
</li>
<li><a href="rb_3100.html">Retail Banking Widget Collection v3.10.0</a>
</li>
<li><a href="rb_395.html">Retail Banking Widget Collection v3.9.5</a>
</li>
<li><a href="rb_394.html">Retail Banking Widget Collection v3.9.4</a>
</li>
<li><a href="rb_393.html">Retail Banking Widget Collection v3.9.3</a>
</li>
<li><a href="rb_392.html">Retail Banking Widget Collection v3.9.2</a>
</li>
<li><a href="rb_391.html">Retail Banking Widget Collection v3.9.1</a>
</li>
<li><a href="rb_390.html">Retail Banking Widget Collection v3.9.0</a>
<ul class="sectlevel3">
<li><a href="rb_390_web.html">Retail Banking Widget Collection v3.9.0 - Web</a>
</li>
<li><a href="rb_390_mob.html">Retail Banking Widget Collection v3.9.0 - Mobile</a>
</li>
</ul>
</li>
<li><a href="rb_381.html">Retail Banking Web Widget Collection v3.8.1</a>
</li>
<li><a href="rb_380.html">Retail Banking Web Widget Collection v3.8.0</a>
</li>
<li><a href="rb_371.html">Widget Collection Retail Banking v3.7.1</a>
<ul class="sectlevel3">
<li><a href="rb_371_web.html">Widget Collection Retail Banking v3.7.1 - Web</a>
</li>
<li><a href="rb_371_mob.html">Widget Collection Retail Banking v3.7.1 - Mobile</a>
</li>
</ul>
</li>
<li><a href="rb_370.html">Widget Collection Retail Banking v3.7.0</a>
</li>
<li><a href="rb_362.html">Widget Collection Retail Banking v3.6.2</a>
</li>
<li><a href="rb_361.html">Widget Collection Retail Banking v3.6.1</a>
</li>
<li><a href="rb_360.html">Widget Collection Retail Banking v3.6.0</a>
</li>
<li><a href="rb_353.html">Widget Collection Retail Banking v3.5.3</a>
</li>
<li><a href="rb_352.html">Widget Collection Retail Banking v3.5.2</a>
</li>
<li><a href="rb_351.html">Widget Collection Retail Banking v3.5.1</a>
</li>
<li><a href="rb_350.html">Widget Collection Retail Banking v3.5.0</a>
</li>
<li><a href="rb_343.html">Widget Collection Retail Banking v3.4.3</a>
</li>
<li><a href="rb_342.html">Widget Collection Retail Banking v3.4.2</a>
</li>
<li><a href="rb_341.html">Widget Collection Retail Banking v3.4.1</a>
</li>
<li><a href="rb_340.html">Widget Collection Retail Banking v3.4.0</a>
</li>
<li><a href="rb_330.html">Widget Collection Retail Banking v3.3.0</a>
</li>
<li><a href="rb_321.html">Retail Banking Widget Collection v3.2.1</a>
</li>
<li><a href="rb_320.html">Retail Banking Widget Collection v3.2.0</a>
</li>
<li><a href="rb_315.html">Retail Banking Widget Collection v3.1.5</a>
</li>
<li><a href="rb_314.html">Retail Banking Widget Collection v3.1.4</a>
</li>
<li><a href="rb_313.html">Retail Banking Widget Collection v3.1.3</a>
</li>
<li><a href="rbrn_312.html">Retail Banking Widget Collection v3.1.2</a>
</li>
<li><a href="rbrn_311.html">Retail Banking Widget Collection v3.1.1</a>
</li>
<li><a href="rbrn_310.html">Retail Banking Widget Collection v3.1.0</a>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<h1 id="omni_payment_reference" class="sect0">Initiate omni payment</h1>
          <div class="paragraph">
<p>This reference includes the following information:</p>
</div>
<h2 id="omni_payment_ootb_configurations" class="discrete">Out-of-the-box payment type configurations</h2>
<div class="paragraph">
<p>The following payment type configurations are supported out of the box:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Payment type</th>
<th class="tableblock halign-left valign-top">Exported name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required business function</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Internal transfer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>INTERNAL_TRANSFER</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A single payment type for transfers between any internal accounts. Does not allow validations for specific <strong>To</strong> and <strong>From</strong> account combinations.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A2A Transfer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Intrabank transfer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>INTRABANK_TRANSFER</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A payment type to allow a bank customer to transfer money to someone in the same bank.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A2A Transfer</p></td>
</tr>
</tbody>
</table>
<h2 id="omni_payment_configuration" class="discrete">Configuration structure</h2>
<div class="paragraph">
<p>Customize the widget with a TypeScript configuration, which
specifies the details of each form field in a payment form.
The structure of the configuration is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">export interface PaymentTypeConfig {
  name: string;
  paymentType: string;
  fields: Array&lt;PaymentFormFieldConfig | PaymentFormGroup&gt;;
  customFields?: PaymentComponentsMap;
  businessFunction?: string;
  hooks?: PaymentHooksOptions;
  options?: PaymentTypeOptions;
  description?: string
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This configuration has the following properties:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the payment type.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>paymentType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The payment type that is sent to DBS when the payment is submitted. For example: <code>SEPA_CREDIT_TRANSFER</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fields</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="keywords" content="Retail Banking Widget Collection, BACKBASE, services">
<title>Untitled</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<style>.toc-current{font-weight: bold;} .toc-root{font-family: "Open Sans","DejaVu Sans",sans-serif;
                         font-size: 0.9em;} #content{display: flex; flex-direction: column; flex: 1 1 auto;}
               .nav-footer{text-align: center; margin-top: auto;}
               .nav-footer > p > a {white-space: nowrap;}</style>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="paragraph">
<p>An array that can have one or more of the five configuration groups below. Each configuration group contains
a <a href="omni_payment_reference.html#omni_payment_configuration_formgroup">Form group configuration</a> or a <a href="omni_payment_reference.html#omni_payment_configuration_formfield">Form field configuration</a>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>initiator</code>: Contains the details of the initiator fields such as debit account, etc.</p>
</li>
<li>
<p><code>counterParty</code>: Contains the details of the counter party fields such as account number, bank code, address, etc.</p>
</li>
<li>
<p><code>remittanceInfo</code>: Contains the details of the currency, amount details, payment reference, etc.</p>
</li>
<li>
<p><code>schedule</code>: Contains the details for scheduling.</p>
</li>
<li>
<p><code>additions</code>: Optional. Contains the details of any additional field that is not specified in
the Digital Banking Services specification.</p>
</li>
</ul>
</div>
</div>
</body>
</html></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>businessFunction</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An optional business function of the payment.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>customFields</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An optional map of custom form components for new payment components or to override the existing components.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hooks</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An optional map of functions that can be provided to extend the functionality of the payment config.
See <a href="adopt_omni_payment_widget.html#provide_hooks_to_the_payment_configuration">Provide hooks to the payment configuration</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>options</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="keywords" content="Retail Banking Widget Collection, BACKBASE, services">
<title>Untitled</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<style>.toc-current{font-weight: bold;} .toc-root{font-family: "Open Sans","DejaVu Sans",sans-serif;
                         font-size: 0.9em;} #content{display: flex; flex-direction: column; flex: 1 1 auto;}
               .nav-footer{text-align: center; margin-top: auto;}
               .nav-footer > p > a {white-space: nowrap;}</style>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="paragraph">
<p>An optional field to set any additional payment options. If you are using the single <code>INTERNAL_TRANSFER</code> payment type:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use the <code>paymentTypes</code> property to specify the <code>INTERNAL_TRANSFER</code> or <code>EXTERNAL_A2A</code> subtypes for payments within the same financial institution or to a connected account respectively. If you don&#8217;t specify any value for this property, the value from the <code>paymentType</code> property is used.</p>
</li>
<li>
<p>Use the <code>disabledCombinations</code> property to prohibit transfers between certain accounts. Transfers between connected accounts are prohibited by default.</p>
</li>
</ul>
</div>
</div>
</body>
</html></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>description</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description of the payment type.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Configuration example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">{
  fields: [initiator, counterParty, remittanceInfo, schedule],
  name: 'Internal Transfer',
  paymentType: 'INTERNAL_TRANSFER',
  businessFunction: 'A2A Transfer',
  options: {
    paymentTypes: {
      internal: 'INTERNAL_TRANSFER',
      external: 'EXTERNAL_A2A',
    },
    disabledCombinations: [
      { from: ProductKinds.loanAccount, to: ProductKinds.loanAccount },
      { from: ProductKinds.creditCard, to: ProductKinds.creditCard },
    ],
  },
};</code></pre>
</div>
</div>
<h3 id="omni_payment_configuration_formgroup" class="discrete">Form group configuration</h3>
<div class="paragraph">
<p>The form group configuration is used to represent a form group fields together.
It is also possible to create nested form groups.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">export interface PaymentFormGroup {
  fields: Array&lt;PaymentFormFieldConfig | PaymentFormGroup&gt;;name: string;
  title?: string;
  subTitle?: string;
  collapsible?: boolean;
  cssClasses?: Array&lt;string&gt;;
  options?: PaymentFormFieldOptions;
  separator?: FormSeparatorConfig;
  hasDynamicTitle?: boolean;
  clearOptions?: ClearOptions;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This configuration has the following properties:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the form group. This is the Angular form group name, so it should be a string with no spaces.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>title</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An optional title for the form group.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subTitle</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An optional subtitle for the form group.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>collapsible</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether users can collapse and expand the form group. If enabled, also set a <code>title</code> for this form group,
in order to display a heading in the collapsed state.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fields</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array of <a href="omni_payment_reference.html#omni_payment_configuration_formgroup">Form group configuration</a> or <a href="omni_payment_reference.html#omni_payment_configuration_formfield">Form field configuration</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cssClasses</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array of css classes that can be used to style the group.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>options</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Form group options.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>separator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Option to add a separator line and icon to form group.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hasDynamicTitle</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Option to render the selected beneficiary name as part of the title in the <code>PayordBeneficiaryHeader</code> component.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clearOptions</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Clear button options for <code>PayordBeneficiaryHeader</code> component.</p></td>
</tr>
</tbody>
</table>
<h3 id="omni_payment_configuration_formfield" class="discrete">Form field configuration</h3>
<div class="paragraph">
<p>The form field configuration is used to represent a single form control in the payment form.
It is not possible to nest form fields.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">export interface PaymentFormFieldConfig {
    name: string;
    type: PaymentComponents | string;
    options: PaymentFormFieldOptions;
    hooks?: PaymentFormFieldHooksOptions;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This configuration has the following properties:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the form control. This is the Angular form control name, so it should be a string with no spaces.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>type</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="keywords" content="Retail Banking Widget Collection, BACKBASE, services">
<title>Untitled</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<style>.toc-current{font-weight: bold;} .toc-root{font-family: "Open Sans","DejaVu Sans",sans-serif;
                         font-size: 0.9em;} #content{display: flex; flex-direction: column; flex: 1 1 auto;}
               .nav-footer{text-align: center; margin-top: auto;}
               .nav-footer > p > a {white-space: nowrap;}</style>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="paragraph">
<p>The type of form control, a string that maps to a form control component name.
See <a href="omni_payment_reference.html#omni_payment_configuration_components">Components</a> below for more details.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">export const PaymentComponentsMap = {
  text: PayordTextboxComponent,
  textarea: PayordTextAreaComponent,
  address: PayordAddressComponent,
  select: PayordSelectComponent,
  radio: PayordRadioComponent,
  debitAccountSelector: PayordDebitAccountSelectorComponent,
  beneficiarySelector: PayordBeneficiarySelectorComponent,
  schedule: PayordScheduleComponent,
  amount: PayordAmountComponent,
  checkbox: PayordCheckboxComponent,
  switch: PayordSwitchComponent,
  date: PayordDateComponent,
  number: PayordNumberComponent,
  phone: PayordPhoneComponent,
  internalAccountSelector: PayordInternalAccountSelectorComponent,
  compactAmount: PayordCompactAmountComponent,
  scheduleHeader: PayordScheduleHeaderComponent,
  buttonGroup: PayordButtonGroupComponent,
  countrySelector: PayordCountrySelectorComponent,
  sanctionedCountrySelector: PayordSanctionedCountrySelectorComponent,
  multiPaymentCard: MultiPaymentCardComponent,
  internalAmountOptions: PayordInternalAmountOptionsComponent,
  header: PayordHeaderComponent,
  purposeOfPayment: PayordPurposeOfPaymentComponent,
  alert: PayordAlertComponent,
  scheduleSwitch: PayordScheduleSwitchComponent,
  beneficiaryGroupHeader: PayordBeneficiaryGroupHeaderComponent,
  multiPaymentAccountSelector: MultiPaymentAccountSelectorComponent,
  contactSelector: PayordContactSelectorComponent,
};</code></pre>
</div>
</div>
</div>
</body>
</html></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>options</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="keywords" content="Retail Banking Widget Collection, BACKBASE, services">
<title>Untitled</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<style>.toc-current{font-weight: bold;} .toc-root{font-family: "Open Sans","DejaVu Sans",sans-serif;
                         font-size: 0.9em;} #content{display: flex; flex-direction: column; flex: 1 1 auto;}
               .nav-footer{text-align: center; margin-top: auto;}
               .nav-footer > p > a {white-space: nowrap;}</style>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="paragraph">
<p>A set of properties to customize each form control. Some of the most common form field options are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>label</code> - Label for the form control.</p>
</li>
<li>
<p><code>placeholder</code> - Placeholder for the form control.</p>
</li>
<li>
<p><code>cssClasses</code> - Array of CSS classes used to style the form control.</p>
</li>
<li>
<p><code>validators</code> - Array of Angular form validators to validate the form control.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is possible to provide custom validators to any field.</p>
</div>
</div>
</body>
</html></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hooks</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An optional map of functions that can be provided to extend the functionality of the form control.
See <a href="adopt_omni_payment_widget.html#provide_hooks_to_the_form_field_configuration">Provide hooks to the form field configuration</a>.</p></td>
</tr>
</tbody>
</table>
<h3 id="omni_payment_generic_field_options" class="discrete">Generic form field options</h3>
<div class="paragraph">
<p>The below options are common to all payment components. Any additional option specific to a particular field will be specified in the components section.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>label</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The label for the form control. Defaults to an empty string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>placeholder</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The placeholder for the form control. Defaults to an empty string. The placeholder option is not applicable to checkbox, radio and switch components.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cssClasses</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An array of css classes that can be used to style the form field. For example: <code>['d-inline-block', 'col-12', 'col-md-6']</code> classes can be provided to a form field config to occupy 50% width of the form in medium and large screens.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>validators</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An array of angular validation functions that can be applied on a form control. For example: <code>[Validators.required, routingTransitNumberValidator]</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>asyncValidators</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Similar to validators an array of async validators can be applied on a form control.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>validationMessages</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An array of custom validation messages for different error types. Example: <code>[{ name: 'required', message: 'End date is required' }]</code> . See <a href="adopt_omni_payment_widget.html#provide_custom_validation_messages">Provide custom validation messages to the form field</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>defaultValue</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">It is the initial value the form control.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dependants</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An array of names of form fields which are dependent on the current field. The field names provided in <code>dependants</code> are hidden by default and are displayed based on a value or condition. See <a href="adopt_omni_payment_widget.html#custom_paymenttype_togglefields">Toggle fields</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>activateDependantsOn</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A value or a function that determines when the <code>dependants</code> should be visible. See <a href="adopt_omni_payment_widget.html#custom_paymenttype_togglefields">Toggle fields</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mapToField</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This property helps to map the correct parent of the form field. When a form control is placed in a group or section, it must be mapped to the appropriate parent so that the field value is sent to backend correctly. See <a href="adopt_omni_payment_widget.html#custom_paymenttype_repositionfields">Reposition fields</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>isConditionalMandatory</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This property helps to specify dependant fields as mandatory when they are visible. The dependant fields should not be provided with <code>Validator.required</code> since it will be hidden by default. So providing the <code>isConditionalMandatory</code> will make a field required when it is visible and optional when it is hidden.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>helperText</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An optional text that will be placed next to form control&#8217;s label.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>description</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An optional description for the form control. It will be place below the form control.</p></td>
</tr>
</tbody>
</table>
<h3 id="omni_payment_configuration_components" class="discrete">Components</h3>
<div class="paragraph">
<p>This section lists the out-of-the-box supported payment form components and ways to configure them.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Text component</strong>: This component is similar to the <code>bb-input-text-ui</code> from Web Design System,
and it accepts the input properties of <code>bb-input-text-ui</code> as options. The textbox component accepts an option <code>isIban</code> which can be used to format the value of textbox in iban format.</p>
<div class="imageblock">
<div class="content">
<img src="./images/business_banking_3/payord_text.svg?ver=3.10.1" alt="payord text">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">{
    name: CounterPartyFields.bankBranchCode,
    type: PaymentComponents.text,
    options: {
        label: 'Routing transit number',
        helperText: ' (ABA)',
        description: 'Routing transit number is a nine-digit number used to identify a bank.',
        maxLength: 9,
        cssClasses: ['d-inline-block', 'col-6', 'align-top', 'pr-0', 'mt-3'],
        isIban: true,
        validators: [Validators.required, routingTransitNumberValidator],
    },
},</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Textarea component</strong>: This component is similar to the <code>bb-input-textarea-ui</code> from Web Design System.
It accepts the input properties of <code>bb-input-textarea-ui</code> as options.
Provide <code>collapseOptions</code> to make the text area collapsed by default.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Regular textarea</strong>:</p>
<div class="imageblock">
<div class="content">
<img src="./images/business_banking_3/payord_textarea.svg?ver=3.10.1" alt="payord textarea">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">{
    name: CounterPartyFields.remittanceInformation,
    type: PaymentComponents.textarea,
    options: {
        label: 'Message to beneficiary (optional)',
        placeholder: 'Type your message here',
        showCharCounter: true,
        minLength: 0,
        maxLength: 140,
        rows: 3,
        cols: 50,
        cssClasses: ['d-inline-block', 'col-12', 'px-0'],
        mapToField: PaymentBaseFields.counterparty,
    },
},</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Collapsed textarea</strong>:</p>
<div class="imageblock">
<div class="content">
<img src="./images/business_banking_3/payord_textarea_collapsed.svg?ver=3.10.1" alt="payord textarea collapsed">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">{
    name: CounterPartyFields.remittanceInformation,
    type: PaymentComponents.textarea,
    options: {
        label: 'Message to beneficiary (optional)',
        placeholder: 'Type your message here',
        showCharCounter: true,
        minLength: 0,
        maxLength: 140,
        rows: 3,
        cols: 50,
        cssClasses: ['d-inline-block', 'col-12', 'px-0'],
        mapToField: PaymentBaseFields.counterparty,
        collapseOptions: {
            btnColor: 'link',
            btnSize: 'md',
            hideIcon: false,
            icon: 'add',
            iconSize: 'md',
            label: 'Add message to beneficary',
        }
    },
},</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Select component</strong>: This component is similar to the <code>bb-dropdown-single-select-ui</code> from Web Design System.
It accepts the input properties of <code>bb-dropdown-single-select-ui</code> as options.</p>
<div class="openblock">
<div class="content">
<div class="imageblock">
<div class="content">
<img src="./images/business_banking_3/payord_select.svg?ver=3.10.1" alt="payord select">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">{
    name: CounterPartyFields.accountType,
    type: PaymentComponents.select,
    options: {
        label: 'Account type',
        validators: [Validators.required],
        options: [{
            label: 'Savings',
            value: 'SAVINGS',
        }, {
            label: 'Checking',
            value: 'CHECKING',
        }],
        placeholder: 'Select an account type',
        cssClasses: ['d-inline-block', 'col-6', 'align-top', 'pr-0'],
    },
},</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p><strong>Radio component</strong>: This component is similar to the <code>bb-input-radio-group-ui</code> from Web Design System.
It accepts the following input options.</p>
<div class="openblock">
<div class="content">
<div class="imageblock">
<div class="content">
<img src="./images/business_banking_3/payord_radio.svg?ver=3.10.1" alt="payord radio">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">{
    name: CounterPartyFields.standardEntryClass,
    type: PaymentComponents.radio,
    options: {
    label: 'Standard entry class (SEC Type)',
    validators: [Validators.required],
    cssClasses: ['d-inline-block', 'col-6', 'align-top', 'pl-0'],
    mapToField: PaymentBaseFields.counterparty,
    horizontal:true,
    preselect: true,
    options: [{
            label: 'Personal(PPD)',
            value: 'PPD',
        },{
            label: 'Business(CCD)',
            value: 'CCD',
        },
    ]},
},</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p><strong>Checkbox component</strong>: This component is similar to the <code>bb-input-checkbox-ui</code> from Web Design System.
It accepts the following input options.</p>
<div class="openblock">
<div class="content">
<div class="imageblock">
<div class="content">
<img src="./images/business_banking_3/payord_checkbox.svg?ver=3.10.1" alt="payord checkbox">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">{
    type: PaymentComponents.checkbox,
    name: RemittanceInfoFields.urgent,
    options: {
        label: 'This payment is urgent',
    },
},</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p><strong>Switch component</strong>: This component is similar to the <code>bb-switch-ui</code> from Web Design System.
It accepts the following input options:</p>
<div class="openblock">
<div class="content">
<div class="imageblock">
<div class="content">
<img src="./images/business_banking_3/payord_switch.svg?ver=3.10.1" alt="payord switch">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">{
    name: 'isCorrespondentBankTransfer',
    type: PaymentComponents.switch,
    options: {
        label: 'Transfer through correspondent bank',
        cssClasses: ['d-block', 'align-top', 'pl-0', 'mb-0'],
        labelPosition: 'right',
    },
},</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p><strong>Date component</strong>: This component is similar to the <code>bb-input-datepicker-ui</code> from Web Design System,
and it accepts the following input options:</p>
<div class="imageblock">
<div class="content">
<img src="./images/retail_banking/payord_date_input.png?ver=3.10.1" alt="payord date input">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">{
  type: PaymentComponents.date,
  name: ScheduleFields.startDate,
  options: {
    label: 'Pay on',
    cssClasses: ['d-inline-block', 'col-md-6', 'align-top', 'px-0', 'pl-md-3'],
    validators: [Validators.required, pastDateValidator as ValidatorFn],
    defaultValue: new Date().toISOString(),
    description: Description that appears under the date.
  },
}</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Number component</strong>: This component is similar to the <code>bb-input-number-ui</code> from Web Design System.
It accepts the following input options:</p>
<div class="imageblock">
<div class="content">
<img src="./images/business_banking_3/payord_number_input.svg?ver=3.10.1" alt="payord number input">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">{
  name: ScheduleFields.repeat,
  type: PaymentComponents.number,
  options: {
    isConditionalMandatory: true,
    label: 'Repeat',
    min: 2,
    max: 200,
    defaultValue: 2,
    validationMessages: [
      { name: 'required', message: 'Value is required' },
      { name: 'max', message: 'Value exceeds maximum allowed occurances' },
    ],
  },
},</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Phone component</strong>: This component is similar to the <code>bb-input-phone-ui</code> from Web Design System.
It accepts the following input options:</p>
<div class="imageblock">
<div class="content">
<img src="./images/business_banking_3/payord_phone_input.svg?ver=3.10.1" alt="payord phone input">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">{
  name: 'phoneNumber',
  type: PaymentComponents.phone,
  options: {
    label: 'Beneficiary phone number',
  },
},</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Amount component</strong>: This component is similar to the <code>bb-amount-ui</code> from Web Design System.
The default value for the amount should be an object similar to the given example.
It accepts the following input options:</p>
<div class="imageblock">
<div class="content">
<img src="./images/business_banking_3/payord_amount.svg?ver=3.10.1" alt="payord amount">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">{
    type: PaymentComponents.amount,
    name: RemittanceInfoFields.amountCurrencyGroup,
    options: {
        label: 'Amount',
        cssClasses: ['col-8', 'pl-0', 'mb-0'],
        currencies: ['USD'],
        defaultValue: {
          amount: '5.00',
          currency: 'USD',
        },
    },
},</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Compact amount component</strong>: This component is a single combined field and not split into currency, amount, and decimal. It accepts the following input:</p>
<div class="imageblock">
<div class="content">
<img src="./images/business_banking_3/payord_compact_amount.svg?ver=3.10.1" alt="payord compact amount">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">{
  type: PaymentComponents.compactAmount,
  name: RemittanceInfoFields.amountCurrencyGroup,
  options: {
    label: 'Amount',
    cssClasses: ['bb-amount-input__field--large', 'bb-block', 'bb-block--lg', 'col-md-6'],
    currency: 'USD',
    autoDecimal: true,
    validationMessages: [
      {name: 'invalidAmount',
      message: 'Please add amount of this transfer',
      },
    ],
  },
},</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>autoDecimal</code>: Sets the decimal automatically on the UI when the bank customer starts typing in the input field. <code>currency</code> is used as initial currency.</p>
</div>
</li>
<li>
<p><strong>Debit account selector component</strong>: This component is similar to the <code>bb-account-selector-ui</code>
from Web Design System and it accepts the following input options.
The widget injects the debit accounts as property named <code>items$</code> in <code>options</code> at runtime. When overriding <code>PaymentComponents.debitAccountSelector</code> using <code>customComponents</code> (see <a href="adopt_omni_payment_widget.html#custom_paymenttype_overridecomponents">Override existing form components</a>) the debit accounts can be retrieved by subscribing to the <code>items$</code> observable that is injected into config options.
The type of <code>items$</code> is given below:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">import { InternalAccountFormItem } from '@backbase/payments-common-ang';
items$: Observable&lt;Array&lt;InternalAccountFormItem&gt;&gt;;</code></pre>
</div>
</div>
<div class="paragraph">
<p>A sample config for debit account selector is below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/business_banking_3/payord_debit_account_selector.svg?ver=3.10.1" alt="payord debit account selector">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">{
    type: PaymentComponents.debitAccountSelector,
    name: InitiatorFields.initiatorAccountGroup,
    options: {
        placeholder: 'Select an account',
        cssClasses: ['mb-0'],
        validationMessages: [
            {
                message: 'You can not do payments to new beneficiary from this account.',
                name: 'hasOnlyClosedPaymentPermission',
            },
        ],
    },
},</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p><strong>Internal account selector component</strong>: This component is similar to the <code>bb-product-selector-ui</code>
from Web Design System. This component is used in the account selectors of both the <strong>From</strong> and the <strong>To</strong> accounts.
Depending on where the component is used, the widget injects debitor or the creditor accounts as a property named <code>items$</code>, and external accounts as <code>connectedItems$</code> in <code>options</code> at runtime. This component has the following configurable options:</p>
<div class="ulist">
<ul>
<li>
<p><code>productNumberFormat</code>: To modify the number format for masking.</p>
</li>
<li>
<p><code>groupingshowCurrencySymbol</code>: To render a currency symbol instead of the currency abbreviation. For exmple : <strong>$</strong> instead of <strong>USD</strong>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The type of <code>items$</code> is the following:</p>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">import { InternalAccountFormItem } from '@backbase/payments-common-ang';
items$: Observable&lt;Array&lt;InternalAccountFormItem&gt;&gt;;</code></pre>
</div>
</div>
<div class="paragraph">
<p>+
A sample configuration for the internal account selector is the following:</p>
</div>
<div class="paragraph">
<p>+
image::business_banking_3/payord_internal_account_selector.svg[]</p>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">  name: PaymentBaseFields.counterparty,
  fields: [
    {
      type: PaymentComponents.internalAccountSelector,
      name: CounterPartyFields.counterPartyAccountGroup,
      options: {
        label: "To",
        placeholder: "Select an account",
        cssClasses: ["col-12", "bb-block", "bb-block--lg"],
        productKinds: [
          {
            productKind: ProductKinds.savingsAccount,
            balance: {
              apiField: AccountBalances.available,
              label: "Available Balance",
            },
          },
          {
            productKind: ProductKinds.currentAccount,
            balance: {
              apiField: AccountBalances.current,
              label: "Current Balance",
            },
          },
          {
            productKind: ProductKinds.creditCard,
            balance: {
              apiField: AccountBalances.creditLimit,
              label: "Credit Limit",
            },
          },
          {
            productKind: ProductKinds.loanAccount,
            balance: { label: "Current Balance" },
          },
        ],
        connectedAccountsSubHeader: "Connected Accounts",
        connectedAccounts: true,
        otherFilters: [{ key: "currency", value: ["EUR", "AED", "USD"] }],
        showCurrencySymbol: false,
        productNumberFormat: {
          length: 16,
          maskRange: [0, 12],
          segments: 0,
        },
        dependants: [
          {
            parent: PaymentBaseFields.remittanceInfo,
            items: [
              RemittanceInfoFields.description,
              RemittanceInfoFields.amountCurrencyGroup,
              RemittanceInfoFields.amountOptions,
            ],
          },
        ],
        activateDependantsOn: toggleForAmountOptions,
        validationMessages: [
          {
            name: "required",
            message: "Please select an account from the list to transfer to",
          }
        ]
      }
    }
  ]</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Set the <code>connectedAccounts</code> flag to <code>true</code> to render connected accounts in addition to internal ones.</p>
</li>
<li>
<p>Use the <code>otherFilters</code> property to implement your own logic to the <strong>From</strong> and <strong>To</strong> accounts drop-downs. See the
<a href="https://docs.backbase.com/extranet/technical-docs/endpoints/2021.08/specs/arrangement-client-api.html#api-ProductSummary-getArrangementsByBusinessFunction">API documentation</a>
for filtering parameters.</p>
</li>
<li>
<p>Use the predefined <code>productKinds</code>, or define your custom value as a <code>string</code>. See the <a href="https://docs.backbase.com/extranet/technical-docs/endpoints/2021.08/specs/arrangement-client-api.html#api-ProductSummary-getArrangementsByBusinessFunction">API documentation</a> for parameters.</p>
</li>
<li>
<p>Choose any balance property from the arrangement data and set the <code>label</code> as a <code>string</code>.
See the <a href="https://docs.backbase.com/extranet/technical-docs/endpoints/2021.08/specs/arrangement-client-api.html#api-ProductSummary-getArrangementsByBusinessFunction">API documentation</a> for parameters.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Internal amount options component</strong></p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If the <strong>To</strong> account is a credit or a loan account, the widget hides the add memo and amount fields, and shows the amount options by default. In the <code>internalAmountOptions</code> component, developers can configure the amount options, and map backend attributes to them. The OOTB configuration is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">{
  type: PaymentComponents.internalAmountOptions,
  name: RemittanceInfoFields.amountOptions,
  options: {
    cssClasses: ['col-12', 'pb-0'],
    isConditionalMandatory: true,
    noBalanceText: 'You dont have any amount due on this credit card account.',
    amountOptions: {
      cssClasses: ['pl-2'],
      creditCard: [
        {
          label: 'Current balance',
          description: 'The balance plus any activity since the latest billing cycle',
          amountApiField: 'bookedBalance',
          scheduleFrequency: scheduleFrequencyForAmountOption,
          showFrequencySwitch: true,
        },
        {
          label: 'Minimum payment due',
          description: '5% of the outstanding balance',
          amountApiField: 'minimumPayment',
          scheduleFrequency: scheduleFrequencyForAmountOption,
          showFrequencySwitch: true,
        },
        {
          label: 'Other amount',
          description: 'Enter amount manually',
          hasCustomAmountInput: true,
          scheduleFrequency: scheduleFrequencyForAmountOption,
          showFrequencySwitch: true,
        },
      ],
      loan: [
        {
          label: 'Full amount',
          description: 'The principal plus interests of the loan',
          amountApiField: 'bookedBalance',
          scheduleFrequency: scheduleFrequencyForAmountOption,
        },
        {
          label: 'Other amount',
          description: 'Enter amount manually',
          hasCustomAmountInput: true,
          scheduleFrequency: scheduleFrequencyForAmountOption,
          showFrequencySwitch: true,
        },
      ],
    },
    validationMessages: [
      {
        name: 'invalidAmount',
        message: 'Please select an amount to transfer',
      },
      {
        name: 'required',
        message: 'Please add amount of this transfer',
      },
    ],
    dependants: [
      {
        parent: PaymentBaseFields.schedule,
        items: [ScheduleFields.frequency, ScheduleFields.frequencySwitch],
      },
    ],
    keepDependantsOnHide: true,
    activateDependantsOn: internalTransAmountOptToggleDependants,
  },
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The mapped backend attributes are the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For credit card account:</p>
<div class="ulist">
<ul>
<li>
<p>Minimum amount due: <code>minimumPayment</code></p>
</li>
<li>
<p>Current balance: <code>bookedBalance</code></p>
</li>
<li>
<p>Other amount: none</p>
</li>
</ul>
</div>
</li>
<li>
<p>For loan account:</p>
<div class="ulist">
<ul>
<li>
<p>Principal only: <code>monthlyInstalmentAmount</code></p>
</li>
<li>
<p>Full amount: <code>amountInArrear</code></p>
</li>
<li>
<p>Other amount: none</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>This component has the following configurable properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>cssClasses</code>: The CSS classes to the template of a single option.</p>
</li>
<li>
<p><code>label</code>: The single option label that, when selected, also appears next to the <strong>Payment details</strong> header.</p>
</li>
<li>
<p><code>description</code>: The description for a single amount option.</p>
</li>
<li>
<p><code>amountApiField</code>: The API key to pick the amount value from the account data retrieved from the backend.</p>
</li>
<li>
<p><code>hasCustomAmountInput</code>: The flag that toggles the free text amount input.</p>
</li>
<li>
<p><code>scheduleFrequency</code>: The frequency options available in the <strong>Frequency</strong> drop-down for the particular amount option.</p>
</li>
<li>
<p><code>showFrequencySwitch</code>: Whether the <strong>Pay monthly</strong> switch is shown for the particular amount option.</p>
</li>
</ul>
</div>
</div>
</div>
</li>
<li>
<p><strong>Header component</strong></p>
<div class="paragraph">
<p>A generic fieldset header component. Currently it accepts a relative text for amount options to show the selected option label. The OOTB configuration is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">{
  type: PaymentComponents.header,
  name: PaymentComponents.header,
  options: {
    cssClasses: ['col-12', 'pb-0', 'pt-2', 'bb-fieldset__heading'],
    heading: 'Payment details ',
    headingType: 'h2',
    headingClasses: ['mb-0'],
    separatorLine: true
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This component has the following configurable properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>cssClasses</code>: The CSS classes to the amount options header.</p>
</li>
<li>
<p><code>heading</code>, <code>headingType</code>, and <code>headingClasses</code>: Iinputs of <code>bb-header-ui</code>.</p>
</li>
<li>
<p><code>label</code>: The text of the amount options header.</p>
</li>
<li>
<p><code>separatorLine</code>: Boolean value to add a separator line.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Beneficiary account selector component</strong>: This component is a customized version of <code>bb-product-selector-ui</code>
from Web Design System and it accepts the following input options.
The widget injects the beneficiary accounts as property named <code>items$</code> in <code>options</code> at runtime. A property called <code>fetchAccounts$</code> is also injected into the options, which can be used to search beneficaries. When overriding <code>PaymentComponents.beneficiarySelector</code> using <code>customComponents</code>(see <a href="adopt_omni_payment_widget.html#custom_paymenttype_overridecomponents">Override existing form components</a>) the credit accounts and contacts can be retrieved by subscribing to the <code>items$</code> observable that is injected into config options. The type of <code>items$</code> and <code>fetchItems$</code> is shown below:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">import { InternalAccountFormItem, ExternalAccountFormItem } from '@backbase/payments-common-ang';

items$: Observable&lt;{
    accounts: InternalAccountFormItem[];
    contacts: ExternalAccountFormItem[];
    totalCreditAccounts: number;
    totalContacts: number;
}&gt;;

fetchItems$: Subject&lt;string&gt;;</code></pre>
</div>
</div>
<div class="paragraph">
<p>A sample config for beneficiary selector is below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/business_banking_3/payord_beneficiary_selector.svg?ver=3.10.1" alt="payord beneficiary selector">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">{
      name: CounterPartyFields.name,
      type: PaymentComponents.beneficiarySelector,
      options: {
        label: 'Beneficiary name',
        placeholder: 'Select a beneficiary',
        cssClasses: ['col-12', 'mb-0'],
        saveNewContactLabel: 'Save as a new contact',
        tabs: ['contacts', 'accounts']
      },
    },</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
When overriding beneficiary selector with a custom component, if the form does not contain a counterparty account number field, make sure to set the beneficiary&#8217;s account number in the form group with name <code>CounterPartyFields.accountNumber</code>.
</td>
</tr>
</table>
</div>
</div>
</div>
</li>
<li>
<p><strong>Address component</strong>: This component is a form group and it contains multiple form fields. The configuration accepts two optional arrays for state and country list. The <code>hideCountry</code> option can be provided to hide the country field in the address component.</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>Initial state</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/business_banking_3/payord_address_initial.svg?ver=3.10.1" alt="payord address initial">
</div>
</div>
<div class="paragraph">
<p><strong>Edit state</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/business_banking_3/payord_address_form.svg?ver=3.10.1" alt="payord address form">
</div>
</div>
<div class="paragraph">
<p><strong>Collapsed state</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/business_banking_3/payord_address_card.svg?ver=3.10.1" alt="payord address card">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">{
    name: CounterPartyFields.postalAddress,
    type: PaymentComponents.address,
    options: {
        addressType: 'beneficiary',
        countries: [
            { label: 'United States', value: 'US'},
            { label: 'Canada', value: 'CA'}
        ],
        states: [
            { value: 'AL', label: 'Alabama' },
            { value: 'AK', label: 'Alaska' },
            { value: 'AS', label: 'American Samoa' },
            { value: 'AZ', label: 'Arizona' }
        ],
    },
},</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p><strong>Schedule header component</strong>: This component is used to display the heading details of the schedule section. It accepts the following input options:</p>
<div class="imageblock">
<div class="content">
<img src="./images/business_banking_3/payord_schedule_header.svg?ver=3.10.1" alt="payord schedule header">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">{
  name: PaymentComponents.scheduleHeader,
  type: PaymentComponents.scheduleHeader,
  options: {
    label: 'Delivery',
  },
},</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Schedule component</strong>: This component is a form group and it contains multiple form fields for managing payment schedule and
it accepts the following input options.</p>
<div class="openblock">
<div class="content">
<div class="imageblock">
<div class="content">
<img src="./images/business_banking_3/payord_schedule.svg?ver=3.10.1" alt="payord schedule">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">{
    type: PaymentComponents.schedule,
    name: ScheduleFields.scheduleGroup,
    options: {
        label: 'Schedule',
        minOccurs: 2,
        maxOccurs: 200,
        frequencies: [
            { value: 'ONCE', every: 1 },
            { value: 'DAILY', every: 1 },
            { value: 'WEEKLY', every: 1 },
            { value: 'BIWEEKLY', every: 1 },
            { value: 'MONTHLY', every: 1 },
            { value: 'QUARTERLY', every: 1 },
            { value: 'YEARLY', every: 1 },
        ],
    },
},</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>PaymentComponents.schedule</code> is a single component and cannot be modified. Alternatively the schedule component can be implemented using individual configs like below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">import { Validators, ValidatorFn } from '@angular/forms';
import {
  PaymentFormGroup,
  PaymentComponents,
  FormFieldHooksParams,
  PaymentBaseFields,
  ScheduleFields,
} from '@backbase/payment-orders-ang/configs';

import {
  Frequencies,
  pastDateValidator,
  ScheduleEndType,
  endDateAfterStartDateValidator,
  endTypes,
  getEndDate,
  maxValueTwoHundredValidator,
  minValueTwoValidator,
} from '@backbase/payments-common-ang';
import { Subject, combineLatest } from 'rxjs';
import { takeUntil, pluck, distinctUntilChanged, startWith, filter } from 'rxjs/operators';

let gc$: Subject&lt;void&gt;;
export const schedule: PaymentFormGroup = {
  name: PaymentBaseFields.schedule,
  fields: [
    {
      name: PaymentComponents.scheduleHeader,
      type: PaymentComponents.scheduleHeader,
      options: {
        label: 'Delivery',
      },
    },
    {
      name: ScheduleFields.frequency,
      type: PaymentComponents.select,
      options: {
        label: 'Frequency',
        validators: [Validators.required],
        options: [
          { label: 'Once', value: Frequencies.ONCE },
          { label: 'Daily', value: Frequencies.DAILY },
          { label: 'Weekly', value: Frequencies.WEEKLY },
          { label: 'Biweekly', value: Frequencies.BIWEEKLY },
          { label: 'Monthly', value: Frequencies.MONTHLY },
          { label: 'Quarterly', value: Frequencies.QUARTERLY },
          { label: 'Annually', value: Frequencies.YEARLY },
        ],
        defaultValue: Frequencies.ONCE,
        cssClasses: ['d-inline-block', 'col-md-6', 'align-top', 'px-0', 'pr-md-3'],
        dependants: [ScheduleFields.endType],
        activateDependantsOn(value: string) {
          return value !== Frequencies.ONCE ? [ScheduleFields.endType] : undefined;
        },
      },
    },
    {
      type: PaymentComponents.date,
      name: ScheduleFields.startDate,
      options: {
        label: 'Pay on',
        cssClasses: ['d-inline-block', 'col-md-6', 'align-top', 'px-0', 'pl-md-3'],
        validators: [Validators.required, pastDateValidator],
        minDate: new Date().toISOString(),
        defaultValue: new Date().toISOString(),
        validationMessages: [{ name: 'pastDate', message: 'Execution date cannot be in the past' }],
      },
      hooks: {
        onInit(params: FormFieldHooksParams) {
          gc$ = new Subject();
          if (params.group) {
            params.group.valueChanges
              .pipe(
                takeUntil(gc$),
                pluck(ScheduleFields.frequency),
                distinctUntilChanged(),
              )
              .subscribe((value: Frequencies) =&gt; {
                if (value === Frequencies.ONCE) {
                  params.component.options.label = 'Pay on';
                } else {
                  params.component.options.label = 'Start on';
                }
              });
          }
        },
        onDestroy() {
          gc$.next();
          gc$.complete();
        },
      },
    },
    {
      name: ScheduleFields.endType,
      type: PaymentComponents.radio,
      options: {
        label: 'End',
        preselect: true,
        isConditionalMandatory: true,
        cssClasses: ['d-inline-block', 'col-md-2', 'align-top', 'px-0', 'bb-schedule__end-type'],
        defaultValue: ScheduleEndType.NEVER,
        options: [
          { label: 'Never', value: ScheduleEndType.NEVER },
          { label: 'On date', value: ScheduleEndType.ON },
          { label: 'After', value: ScheduleEndType.AFTER },
        ],
        dependants: [ScheduleFields.endDate, ScheduleFields.repeat],
        activateDependantsOn(value: string) {
          switch (value) {
            case ScheduleEndType.ON:
              return [ScheduleFields.endDate];
            case ScheduleEndType.AFTER:
              return [ScheduleFields.repeat];
            default:
              return;
          }
        },
      },
    },
    {
      type: PaymentComponents.date,
      name: ScheduleFields.endDate,
      options: {
        cssClasses: ['d-inline-block', 'col-md-10', 'align-top', 'px-0', 'bb-schedule__end-date'],
        validators: [endDateAfterStartDateValidator as ValidatorFn],
        validationMessages: [
          { name: 'required', message: 'End date is required' },
          { name: 'lessThanStartDate', message: 'End date cannot be before start date' },
        ],
        isConditionalMandatory: true,
        defaultValue: new Date().toISOString(),
      },
      hooks: {
        onInit(params: FormFieldHooksParams) {
          const startDate = params.group &amp;&amp; params.group.get(ScheduleFields.startDate);
          const frequency = params.group &amp;&amp; params.group.get(ScheduleFields.frequency);
          const endType = params.group &amp;&amp; params.group.get(ScheduleFields.endType);
          if (startDate &amp;&amp; frequency &amp;&amp; endType) {
            combineLatest(
              startDate.valueChanges.pipe(startWith(startDate.value)),
              frequency.valueChanges.pipe(startWith(frequency.value)),
              endType.valueChanges.pipe(filter(value =&gt; value === endTypes.on)),
            )
              .pipe(
                takeUntil(gc$),
                distinctUntilChanged(),
              )
              .subscribe(() =&gt; {
                if (params.control) {
                  params.control.patchValue(getEndDate(frequency.value, startDate.value));
                }
              });
          }
        },
      },
    },
    {
      name: ScheduleFields.repeat,
      type: PaymentComponents.number,
      options: {
        isConditionalMandatory: true,
        description: 'times',
        min: 2,
        max: 200,
        defaultValue: 2,
        validators: [minValueTwoValidator, maxValueTwoHundredValidator],
        validationMessages: [
          { name: 'required', message: 'Value is required' },
          { name: 'min', message: 'Value is below the minimum allowed occurrences (2)' },
          { name: 'max', message: 'Value exceeds maximum allowed occurances (200)' },
        ],
        cssClasses: ['d-inline-block', 'col-md-9', 'align-top', 'px-0', 'bb-schedule__repeat'],
      },
    },
  ],
};</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p><strong>Schedule switch component</strong>: This component is used to display the <strong>Pay monthly</strong> switch instead of the payment frequency drop-down.</p>
<div class="imageblock">
<div class="content">
<img src="./images/retail_banking/initiate_omni_payment_schedule_switch.png?ver=3.10.1" alt="initiate omni payment schedule switch">
</div>
</div>
<div class="paragraph">
<p>Out-of-the-box configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">type: PaymentComponents.scheduleSwitch,
name: ScheduleFields.frequencySwitch,
options: {
cssClasses: ['col-12', 'mb-0', 'mt-4'],
label: 'Pay monthly',
tooltipMessage: 'For a recurring payment, the amount scheduled may change over time.',
description:
  'If the execution date falls on a weekend or holiday, well make the payment on the previous business day.',
values: {
  on: Frequencies.MONTHLY,
  off: Frequencies.ONCE,
 },
defaultValue: false,
},</code></pre>
</div>
</div>
<div class="paragraph">
<p>This component has the following configurable properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>tooltip message</code>: The message of the tooltip that appears when the bank customer hovers over the <strong>i</strong> icon.</p>
</li>
<li>
<p><code>label</code>: The header text of the section.</p>
</li>
<li>
<p><code>description</code>: The explanatory text under the payment header.</p>
</li>
<li>
<p><code>value</code>: The frequencies set when the switch is on or off respectively.</p>
</li>
<li>
<p><code>default value</code>: Whether the switch is on or off by default.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alert component</strong>: This component is used to display due date messages when the bank customer selects a
credit card or a loan account in the <strong>To</strong> drop-down.</p>
<div class="imageblock">
<div class="content">
<img src="./images/retail_banking/initiate_omni_payment_alert_component_info.png?ver=3.10.1" alt="initiate omni payment alert component info">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/retail_banking/initiate_omni_payment_alert_component_warning.png?ver=3.10.1" alt="initiate omni payment alert component warning">
</div>
</div>
<div class="paragraph">
<p>Out-of-the-box configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">type: PaymentComponents.alert,
      name: PaymentComponents.alert,
      hidden: true,
      options: {
        cssClasses: ['col-md-12'],
        alerts: {
          undue: {
            title: 'A payment executed after the due date will incur a late fee.',
            description: 'The due date is @@date. A payment made before may improve your credit score.',
            modifier: 'info',
          },
          overdue: {
            title: 'The due date has passed. This payment will incur a late fee.',
            description: 'The due date was @@date. Late payments will decrease your credit score.',
            modifier: 'warning',
          },
        },
      },
      hooks: {
        onInit: internalTransferScheduleAlertOnInitHook,
      }</code></pre>
</div>
</div>
<div class="paragraph">
<p>This component has the following configurable properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>title</code>: The title of the message.</p>
</li>
<li>
<p><code>description</code>: The explanatory text about the due date and a late payment fee.</p>
</li>
<li>
<p><code>modifier</code>: The type of the message - info block or warning. This defines the color and icon of the message.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</body>
</html>