<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="keywords" content="Retail Banking Widget Collection, BACKBASE, services">
<title>Integrate journeys in a widget-based mobile app</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<style>.toc-current{font-weight: bold;} .toc-root{font-family: "Open Sans","DejaVu Sans",sans-serif;
                         font-size: 0.9em;} #content{display: flex; flex-direction: column; flex: 1 1 auto;}
               .nav-footer{text-align: center; margin-top: auto;}
               .nav-footer > p > a {white-space: nowrap;}</style>
</head>
<body id="journeys_in_widget_architecture" class="book toc2 toc-left">
<div id="header">
<h1>Integrate journeys in a widget-based mobile app</h1>
<div class="details">
<span id="revnumber">version 3.10.1</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<p><span class="toc-root toc-current"><a href="index.html">Retail Banking Widget Collection</a></span></p><ul class="sectlevel1">
<li><a href="understand.html">Understand Retail Banking Widget Collection v3.10.1</a>
<ul class="sectlevel2">
<li><a href="what_are_widget_collections.html">What is Retail Banking Widget Collection</a>
</li>
<li><a href="entitlements_understand.html">Understand Access Control</a>
</li>
<li><a href="actions_understand.html">Understand Actions</a>
</li>
<li><a href="accountstatements_understand.html">Understand Account Statements</a>
<ul class="sectlevel3">
<li><a href="web_account_statements.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="authentication_understand.html">Understand Authentication</a>
<ul class="sectlevel3">
<li><a href="web_authentication.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="authorized_users_understand.html">Understand Authorized Users</a>
<ul class="sectlevel3">
<li><a href="web_authorized_users.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="billpay_understand.html">Understand Bill Pay</a>
<ul class="sectlevel3">
<li><a href="web_billpay.html">Web widgets</a>
</li>
<li><a href="native_bill_pay.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="cardmanagement_understand.html">Understand Card Management</a>
<ul class="sectlevel3">
<li><a href="web_card_management.html">Web widgets</a>
</li>
<li><a href="native_card_management.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="consents_understand.html">Understand Consents</a>
<ul class="sectlevel3">
<li><a href="web_consents.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="contacts_understand.html">Understand Contacts</a>
<ul class="sectlevel3">
<li><a href="web_contacts.html">Web widgets</a>
</li>
<li><a href="native_contacts.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="messages_understand.html">Understand Messages</a>
<ul class="sectlevel3">
<li><a href="web_messages.html">Web widgets</a>
</li>
<li><a href="native_messages.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="notifications_understand.html">Understand Notifications</a>
<ul class="sectlevel3">
<li><a href="web_notifications.html">Web widgets</a>
</li>
<li><a href="native_notifications.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="payments_understand.html">Understand Payments</a>
<ul class="sectlevel3">
<li><a href="web_payments.html">Web widgets</a>
</li>
<li><a href="native_payments.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="pfm_understand.html">Understand Personal Finance Management</a>
<ul class="sectlevel3">
<li><a href="web_pfm.html">Web widgets</a>
</li>
<li><a href="native_pfm.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="places_understand.html">Understand Places</a>
<ul class="sectlevel3">
<li><a href="web_places.html">Web widgets</a>
</li>
<li><a href="native_places.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="product_summary_understand.html">Understand Products</a>
<ul class="sectlevel3">
<li><a href="web_products.html">Web widgets</a>
</li>
<li><a href="native_products.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="rdc_understand.html">Understand Remote Deposit Capture</a>
<ul class="sectlevel3">
<li><a href="native_rdc.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="self_enrollment_understand.html">Understand Self Enrollment</a>
<ul class="sectlevel3">
<li><a href="web_self_enrollment.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="transaction_list_understand.html">Understand Transactions</a>
<ul class="sectlevel3">
<li><a href="web_transactions.html">Web widgets</a>
</li>
<li><a href="native_transactions.html">Native mobile widgets</a>
</li>
</ul>
</li>
<li><a href="user_self_service.html">Understand User Self Service</a>
<ul class="sectlevel3">
<li><a href="web_user_self_service.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="user_profile_understand.html">Understand User Profile</a>
<ul class="sectlevel3">
<li><a href="web_user_profile.html">Web widgets</a>
</li>
<li><a href="native_user_profile.html">Native mobile widgets</a>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="install_and_configure.html">Install</a>
<ul class="sectlevel2">
<li><a href="install_the_lean_page_template.html">Install the lean page template for Widget Collection 3</a>
</li>
<li><a href="setup_widget_development_environment.html">Set up a widget development environment</a>
</li>
</ul>
</li>
<li><a href="use.html">Adopt</a>
<ul class="sectlevel2">
<li><a href="adopt_omni_payment_widget.html">Adopt the Initiate omni payment widget</a>
</li>
<li><a href="adopt_payment_wizard_widget.html">Adopt the Payment Wizard widget</a>
</li>
<li><a href="configure_navigation_notifications_widgets.html">Configure navigation for Notifications widgets</a>
</li>
<li><a href="how_to_use_theming.html">Use theming</a>
</li>
<li><a href="use_backbase_app.html">Use the Retail Banking Mobile App with Community</a>
</li>
<li><a href="refresh_widget_data_automatically.html">Refresh widget data in the same view automatically</a>
</li>
<li><a href="configure_account_numbers_displaying_in_products.html">Configure account numbers formatting for Products widgets</a>
</li>
<li><a href="synchronize_masking_behavior_in_products.html">Synchronize masking behavior with backed in Products widgets.</a>
</li>
</ul>
</li>
<li><a href="extend_and_build.html">Extend and build</a>
<ul class="sectlevel2">
<li><a href="extend_and_build_with_wc3.html">Extend and build with Widget Collection 3</a>
<ul class="sectlevel3">
<li><a href="configure_place_types.html">Customize the Find branches and ATMs widget</a>
</li>
<li><a href="field_mapping.html">Field mapping</a>
</li>
<li><a href="country_injection.html">Country injection</a>
</li>
<li><a href="configure_self_enrollment_route_guard.html">Customize Self Enrollment with a route guard</a>
</li>
<li><a href="configure_self_enrollment_identification_form.html">Customize the Self Enrollment with Identification form</a>
</li>
</ul>
</li>
<li><a href="extend_and_build_native.html">Extend and build native mobile apps</a>
<ul class="sectlevel3">
<li><a href="understanding_native_mobile_apps.html">Understand native mobile apps</a>
</li>
<li><a href="search_bar_framework.html">Understand the search bar framework</a>
</li>
<li><a href="integrating_a_mobile_widget_collection.html">Integrate a mobile widget collection</a>
</li>
<li><a href="implementing_an_oauth_20_compatible_auth_client.html">Implement an OAuth 2.0-compatible Auth Client</a>
</li>
<li><a href="build_rest_request.html">Build a REST request (iOS only)</a>
</li>
<li><a href="integrating_mobile_widgets.html">Install native mobile widgets</a>
</li>
<li><a href="integrating_native_client.html">Install native mobile clients</a>
</li>
<li><a href="journeys_in_widget_architecture.html"><span class="toc-current">Integrate journeys in a widget-based mobile app</span></a>
</li>
<li><a href="customize_payment_order_widget.html">Customize the Create payment order widget</a>
</li>
<li><a href="customize_products_converters.html">Customize Product Converters</a>
</li>
<li><a href="bill_pay_usage_guide.html">Integrate the Schedule bill pay widget along with the Create bill payment widget</a>
</li>
<li><a href="transactions_filter_usage_guide.html">Integrate the Filter transactions widget with the View transactions widget</a>
</li>
<li><a href="integrate_transaction_details_widget.html">Integrate the View transaction details widget in your experience</a>
</li>
<li><a href="integrate_transactions_filter_amount_range_widget.html">Integrate the Filter transactions by amount range widget with the Filter transactions widget</a>
</li>
<li><a href="integrate_transactions_filter_date_range_widget.html">Integrate the Filter transactions by date range widget with the View transactions widget</a>
</li>
<li><a href="integrate_transactions_filter_type_widget.html">Integrate the Filter transactions by transaction type widget with the Filter transactions widget</a>
</li>
<li><a href="integrate_view_check_images_widget.html">Integrate the View check images widget with the View transaction details widget</a>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="reference.html">Reference</a>
<ul class="sectlevel2">
<li><a href="web_reference.html">Web widgets</a>
<ul class="sectlevel3">
<li><a href="account_information_consent_reference.html">Account information consent</a>
</li>
<li><a href="account_information_dashboard_revoke_reference.html">Account information dashboard and revoke</a>
</li>
<li><a href="manage_retail_notification_preferences_reference.html">Manage retail notification preferences</a>
</li>
<li><a href="link_external_account_reference.html">Connect external account</a>
</li>
<li><a href="contact_manager_reference.html">Contact manager</a>
</li>
<li><a href="authorized_user_create_reference.html">Create authorized user</a>
</li>
<li><a href="self_enrollment_create_account_reference.html">Create online banking account</a>
</li>
<li><a href="create_message_reference.html">Compose message by the customer</a>
</li>
<li><a href="bill_pay_auto_enrolment_reference.html">Enroll bill pay automatically</a>
</li>
<li><a href="bill_pay_ebills_payveris_enrolment_reference.html">Enroll Payveris eBills</a>
</li>
<li><a href="places_reference.html">Find branches and ATMs</a>
</li>
<li><a href="bill_pay_enrolment_guard_reference.html">Guard bill pay enrollment</a>
</li>
<li><a href="omni_payment_reference.html">Initiate omni payment</a>
</li>
<li><a href="payment_wizard_reference.html">Initiate payment wizard</a>
</li>
<li><a href="list_account_information_consents_reference.html">List account information consents</a>
</li>
<li><a href="login_reference.html">Log in user</a>
</li>
<li><a href="notification_badge_reference.html">Notification badge</a>
</li>
<li><a href="bill_pay_manage_payee_reference.html">Manage bill payee</a>
</li>
<li><a href="bill_pay_manage_payments_reference.html">Manage bill payments</a>
</li>
<li><a href="budget_reference.html">Manage budgets</a>
</li>
<li><a href="card_management_details_reference.html">Manage cards</a>
</li>
<li><a href="product_summary_manage_accounts_reference.html">Manage retail account settings</a>
</li>
<li><a href="saving_goals_reference.html">Manage saving goals</a>
</li>
<li><a href="card_management_travel_notice_reference.html">Manage travel notice</a>
</li>
<li><a href="upcoming_payments_reference.html">Manage upcoming payments</a>
</li>
<li><a href="manage_user_security_reference.html">Manage user security</a>
</li>
<li><a href="user_manage_profile_reference.html">Manage user profile - non-admin</a>
</li>
<li><a href="payment_initiation_consent_reference.html">Payment initiation consent</a>
</li>
<li><a href="self_enrollment_identification_reference.html">Provide information for self-enrollment</a>
</li>
<li><a href="request_stop_checks_reference.html">Request stop checks</a>
</li>
<li><a href="product_summary_account_selector_reference.html">Select retail account</a>
</li>
<li><a href="self_enrollment_verification_reference.html">Verify identity for self-enrollment</a>
</li>
<li><a href="left_to_spend_reference.html">View amount left to spend</a>
</li>
<li><a href="authorized_user_view_reference.html">View authorized users</a>
</li>
<li><a href="account_statements_list_reference.html">View and download retail account statements</a>
</li>
<li><a href="bill_pay_payee_list_reference.html">View bill payees</a>
</li>
<li><a href="bill_pay_payee_summary_reference.html">View bill payee summary</a>
</li>
<li><a href="bill_pay_payments_reference.html">View bill payments</a>
</li>
<li><a href="card_management_overview_reference.html">View cards</a>
</li>
<li><a href="messages_conversation_thread_reference.html">View conversation thread by the customer</a>
</li>
<li><a href="messages_conversations_list_reference.html">View messages by the customer</a>
</li>
<li><a href="income_spending_analysis_reference.html">View income and spending by category</a>
</li>
<li><a href="self_enrollment_locked_out_reference.html">View locked out message for self-enrollment</a>
</li>
<li><a href="turnovers_reference.html">View monthly turnovers chart</a>
</li>
<li><a href="product_summary_view_details_reference.html">View retail account details</a>
</li>
<li><a href="product_summary_list_reference.html">View retail account list</a>
</li>
<li><a href="self_enrollment_confirmation_reference.html">View self-enrollment confirmation message</a>
</li>
<li><a href="view_sticky_popup_notifications_reference.html">View sticky and pop-up notifications</a>
</li>
<li><a href="stop_checks_list_reference.html">View stop check payment requests</a>
</li>
<li><a href="top_metrics_reference.html">View top spending metrics</a>
</li>
<li><a href="transactions_list_reference.html">View transactions list</a>
</li>
<li><a href="quick_transfer_reference.html">Quick transfer</a>
</li>
</ul>
</li>
<li><a href="native_reference.html">Native mobile widgets</a>
<ul class="sectlevel3">
<li><a href="bill_pay_native_reference.html">Manage bill payments</a>
</li>
<li><a href="bill_pay_form_native_reference.html">Create bill payment</a>
</li>
<li><a href="bill_pay_schedule_native_reference.html">Schedule bill payment</a>
</li>
<li><a href="budgets_native_reference.html">Manage budgets</a>
</li>
<li><a href="card_management_native_reference.html">Manage cards</a>
</li>
<li><a href="categories_native_reference.html">View income and spending by category</a>
</li>
<li><a href="contacts_native_reference.html">Manage contacts</a>
</li>
<li><a href="message_center_native_reference.html">Compose and receive messages</a>
</li>
<li><a href="notifications_native_reference.html">Manage notifications</a>
</li>
<li><a href="payment_order_native_reference.html">Create payment order</a>
</li>
<li><a href="schedule_payment_order_native_reference.html">Schedule payment order</a>
</li>
<li><a href="pin_request_native_reference.html">Request PIN</a>
</li>
<li><a href="pin_reset_native_reference.html">Reset PIN</a>
</li>
<li><a href="places_native_reference.html">Find branches and ATMs</a>
</li>
<li><a href="place_details_native_reference.html">View branch and ATM details</a>
</li>
<li><a href="product_details_native_reference.html">Manage account</a>
</li>
<li><a href="products_native_reference.html">Manage accounts</a>
</li>
<li><a href="rdc_form_native_reference.html">Submit remote deposit check</a>
</li>
<li><a href="rdc_history_native_reference.html">View remote deposit capture history</a>
</li>
<li><a href="saving_goals_native_reference.html">Manage saving goals</a>
</li>
<li><a href="selector_widget.html">Selector widget</a>
</li>
<li><a href="transactions_native_reference.html">View transactions, turnovers, and spending/income analysis</a>
</li>
<li><a href="transaction_details_native_reference.html">View transaction details</a>
</li>
<li><a href="transactions_check_images_native_reference.html">View check images</a>
</li>
<li><a href="transactions_filter_native_reference.html">Filter transactions</a>
</li>
<li><a href="transactions_filter_amount_range_native_reference.html">Filter transactions by amount range</a>
</li>
<li><a href="transactions_filter_date_range_native_reference.html">Filter transactions by date range</a>
</li>
<li><a href="transactions_filter_type_native_reference.html">Filter transactions by transaction type</a>
</li>
<li><a href="travel_notice_form_native_reference.html">Create travel notice</a>
</li>
<li><a href="travel_notice_list_native_reference.html">View travel notices</a>
</li>
<li><a href="user_profile_overview_native_reference.html">View user profile - non-admin</a>
</li>
</ul>
</li>
<li><a href="native_client_reference.html">Native mobile clients</a>
<ul class="sectlevel3">
<li><a href="access_control_client_reference.html">Access control</a>
</li>
<li><a href="actions_client_reference.html">Actions</a>
</li>
<li><a href="bill_pay_client_reference.html">Bill pay</a>
</li>
<li><a href="card_management_client_reference.html">Card management</a>
</li>
<li><a href="contacts_client_reference.html">Contacts</a>
</li>
<li><a href="notifications_client_reference.html">Notifications</a>
</li>
<li><a href="message_center_client_reference.html">Compose and receive messages</a>
</li>
<li><a href="payment_order_client_reference.html">Payment order</a>
</li>
<li><a href="places_client_reference.html">Places</a>
</li>
<li><a href="products_client_reference.html">Products</a>
</li>
<li><a href="pfm_client_reference.html">Personal finance management</a>
</li>
<li><a href="rdc_client_reference.html">Remote deposit capture</a>
</li>
<li><a href="transactions_client_reference.html">Transactions</a>
</li>
<li><a href="user_profile_client_reference.html">User profile</a>
</li>
</ul>
</li>
<li><a href="bb_product_compatibility.html">Backbase product compatibility</a>
</li>
<li><a href="retirement.html">Backbase software lifecycle</a>
</li>
<li><a href="common_utils.html">Common Utils</a>
</li>
<li><a href="experimental_features.html">Experimental features</a>
</li>
<li><a href="glossary.html">Glossary</a>
</li>
<li><a href="modendtbl.html">Module/Endpoint list</a>
</li>
<li><a href="native_apis.html">Native APIs</a>
</li>
<li><a href="payments_schematics_reference.html">Payments Schematics</a>
</li>
<li><a href="platform_support.html">Software requirements</a>
</li>
<li><a href="third_party_dependencies.html">Third-party dependencies</a>
</li>
<li><a href="troubleshoot_angular_10_upgrade.html">Troubleshooting Angular 10 upgrade</a>
</li>
</ul>
</li>
<li><a href="release_notes.html">Release notes</a>
<ul class="sectlevel2">
<li><a href="rb_3_10_1.html">Retail Banking Widget Collection v3.10.1</a>
</li>
<li><a href="rb_3100.html">Retail Banking Widget Collection v3.10.0</a>
</li>
<li><a href="rb_395.html">Retail Banking Widget Collection v3.9.5</a>
</li>
<li><a href="rb_394.html">Retail Banking Widget Collection v3.9.4</a>
</li>
<li><a href="rb_393.html">Retail Banking Widget Collection v3.9.3</a>
</li>
<li><a href="rb_392.html">Retail Banking Widget Collection v3.9.2</a>
</li>
<li><a href="rb_391.html">Retail Banking Widget Collection v3.9.1</a>
</li>
<li><a href="rb_390.html">Retail Banking Widget Collection v3.9.0</a>
<ul class="sectlevel3">
<li><a href="rb_390_web.html">Retail Banking Widget Collection v3.9.0 - Web</a>
</li>
<li><a href="rb_390_mob.html">Retail Banking Widget Collection v3.9.0 - Mobile</a>
</li>
</ul>
</li>
<li><a href="rb_381.html">Retail Banking Web Widget Collection v3.8.1</a>
</li>
<li><a href="rb_380.html">Retail Banking Web Widget Collection v3.8.0</a>
</li>
<li><a href="rb_371.html">Widget Collection Retail Banking v3.7.1</a>
<ul class="sectlevel3">
<li><a href="rb_371_web.html">Widget Collection Retail Banking v3.7.1 - Web</a>
</li>
<li><a href="rb_371_mob.html">Widget Collection Retail Banking v3.7.1 - Mobile</a>
</li>
</ul>
</li>
<li><a href="rb_370.html">Widget Collection Retail Banking v3.7.0</a>
</li>
<li><a href="rb_362.html">Widget Collection Retail Banking v3.6.2</a>
</li>
<li><a href="rb_361.html">Widget Collection Retail Banking v3.6.1</a>
</li>
<li><a href="rb_360.html">Widget Collection Retail Banking v3.6.0</a>
</li>
<li><a href="rb_353.html">Widget Collection Retail Banking v3.5.3</a>
</li>
<li><a href="rb_352.html">Widget Collection Retail Banking v3.5.2</a>
</li>
<li><a href="rb_351.html">Widget Collection Retail Banking v3.5.1</a>
</li>
<li><a href="rb_350.html">Widget Collection Retail Banking v3.5.0</a>
</li>
<li><a href="rb_343.html">Widget Collection Retail Banking v3.4.3</a>
</li>
<li><a href="rb_342.html">Widget Collection Retail Banking v3.4.2</a>
</li>
<li><a href="rb_341.html">Widget Collection Retail Banking v3.4.1</a>
</li>
<li><a href="rb_340.html">Widget Collection Retail Banking v3.4.0</a>
</li>
<li><a href="rb_330.html">Widget Collection Retail Banking v3.3.0</a>
</li>
<li><a href="rb_321.html">Retail Banking Widget Collection v3.2.1</a>
</li>
<li><a href="rb_320.html">Retail Banking Widget Collection v3.2.0</a>
</li>
<li><a href="rb_315.html">Retail Banking Widget Collection v3.1.5</a>
</li>
<li><a href="rb_314.html">Retail Banking Widget Collection v3.1.4</a>
</li>
<li><a href="rb_313.html">Retail Banking Widget Collection v3.1.3</a>
</li>
<li><a href="rbrn_312.html">Retail Banking Widget Collection v3.1.2</a>
</li>
<li><a href="rbrn_311.html">Retail Banking Widget Collection v3.1.1</a>
</li>
<li><a href="rbrn_310.html">Retail Banking Widget Collection v3.1.0</a>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<h1 id="journeys_in_widget_architecture" class="sect0">Integrate journeys in a widget-based mobile app</h1>
          <div class="paragraph">
<p>It is possible to leverage functionality that journeys provide in mobile apps based on the widget architecture. In this section, you learn how to add a journey to your widget-based mobile app without compromising existing features in production.</p>
</div>
<div class="paragraph">
<p>This guide shows you how to enhance your existing mobile app with the new features of the <strong>Account statements</strong> journey. You can add several journeys to your app.</p>
</div>
<h2 id="journeys_in_widget_architecture_prereqs" class="discrete">Prerequisites</h2>
<div class="paragraph">
<p>Before you start, make sure you have:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Set up a widget-based mobile app. This guide uses the
<a href="https://community.backbase.com/documentation/Retail-Banking/3.10.1/use_backbase_app">Retail Banking Mobile App</a> as an example.</p>
</li>
<li>
<p>Access to the
<a href="https://community.backbase.com/documentation/Retail-Apps/2021.08/account_statements_journey_reference">Account statements</a> journey.</p>
</li>
<li>
<p>For iOS: Updated your CocoaPods version to v1.10.0 or greater.</p>
</li>
</ul>
</div>
<h2 id="journeys_in_widget_architecture_android" class="discrete">Integrate a journey in your Android app</h2>
<div class="paragraph">
<p>Follow these steps to integrate the <strong>Account statements</strong> in your widget-based Android app:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add the dependencies.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Declare the following variables in your machine&#8217;s <code>gradle.properties</code> file:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>artifactsRepoUrl = https://repo.backbase.com/android3
artifactsRetailRepoUrl = https://repo.backbase.com/android-retail3
artifactsIdentityRepoUrl = https://repo.backbase.com/android-identity
artifactsDesignRepoUrl = https://repo.backbase.com/design-android
artifactsMobileNotificationsRepoUrl=https://repo.backbase.com/android-mobile-notifications

# repo.backbase.com username
mvnUser= &lt;username&gt;

# repo.backbase.com password
mvnPass=&lt;password&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>Configure your project to <a href="https://community.backbase.com/documentation/Retail-Apps/2021.08/import_mobile_journey">import libraries from these repositories</a>.</p>
</li>
<li>
<p>Add the following dependencies to the widget-based app&#8217;s <code>build.gradle</code> file.</p>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>implementation "androidx.navigation:navigation-fragment-ktx:2.3.0"
implementation "org.koin:koin-android-viewmodel:2.1.5"
implementation "com.squareup.moshi:moshi-kotlin:1.11.0"

implementation 'com.backbase.android.clients:gen-accountstatements-client-2:1.0.0',
implementation 'com.backbase.android.retail.journey:account-statements-journey:1.0.0',
implementation 'com.backbase.android.retail.journey:gen-account-statements-client-2-account-statements-use-case::1.0.0',
implementation 'com.backbase.android.design:design-system:1.0.0',
implementation 'com.backbase.android.retail.journey:app-common:1.0.0'</code></pre>
</div>
</div>
</li>
<li>
<p>To fetch all dependencies, sync the project.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Initialize the dependencies in your widget-based app.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Create <code>AppConfiguration</code> and Koin modules:</p>
<div class="listingblock">
<div class="title">AppDependencies.kt</div>
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">@file:JvmName("BackbaseApplicationUtils")

val applicationDependencies: Module = module {
    single { NetworkDBSDataProvider(get&lt;Application&gt;()) } bind DBSDataProvider::class

    single {
        Moshi.Builder()
            .add(bigDecimalAdapter)
            .add(dateAdapter)
            .build()
    }

    factory { MoshiResponseBodyParser(get()) } bind ResponseBodyParser::class

    scope&lt;AccountStatementsJourneyScope&gt; {
        scoped {
            AccountStatementsConfiguration {}
        }

        scoped {
            val apiRoot = get&lt;Backbase&gt;().configuration.experienceConfiguration.apiRoot
            val serverUri = URI("${apiRoot}/account-statement/client-api/v2")
            AccountStatementApi(
                context = get&lt;Application&gt;(),
                moshi = get(),
                parser = get(),
                serverUri = serverUri,
                provider = get(),
                backbase = get()
            )
        }

        scoped {
            AccountStatementsUseCaseImpl(get())
        } bind AccountStatementsUseCase::class
    }
}</code></pre>
</div>
</div>
</li>
<li>
<p>To enable the widget-based app to launch the <strong>Account statements</strong> journey,
provide the objects created in the previous step to the <code>app-common</code> library in <code>Application.onCreate()</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">AppConfiguration appConfiguration = new AppConfiguration.Builder()
            .setAuthClient(Backbase.requireInstance().getAuthClient())
            .build();

JourneyApplicationUtils.initializeJourneyApplication(this, appConfiguration, BackbaseApplicationUtils.getApplicationDependencies());</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Set up the navigation for the <strong>Account statements</strong> journey.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>To define the exit behaviour of the <strong>Account statements</strong> journey, create the following router:</p>
<div class="listingblock">
<div class="title">AccountStatementsRouterImpl.kt</div>
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">class AccountStatementsRouterImpl(
    private val activity: Activity
) : AccountStatementsRouter {
    override fun popAccountStatementsJourney() {
        activity.finish()
    }
}</code></pre>
</div>
</div>
</li>
<li>
<p>To ensure that the journey has a space in the app to load,
create a new <code>JourneyActivity</code> in the app to host the journey <code>Fragment</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">class JourneyActivity : AppActivity(R.layout.activity_journey) {

    override val declareScopeDependencies: ModuleDeclaration = {
        scope&lt;AccountStatementsJourneyScope&gt; {
            factory { AccountStatementsRouterImpl(this@JourneyActivity) } bind AccountStatementsRouter::class
        }
    }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        // TODO: Set navigation graph and pass start destination's arguments
    }
}</code></pre>
</div>
</div>
</li>
<li>
<p>Declare your new activity in <code>AndroidManifest.xml</code>.</p>
<div class="paragraph">
<p>To apply the Mobile Design System theme to the journey section of the app, reference <code>Theme.Backbase</code> from <code>design-system</code> here. Alternatively, apply the theme to the whole app.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;activity
  android:name=".view.activity.JourneyActivity"
  android:theme="@style/Theme.Backbase"
  android:screenOrientation="portrait" /&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>Create the layout for your new activity with the following content:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;androidx.fragment.app.FragmentContainerView
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"

    android:id="@+id/accountStatementsJourneyContainer"
    android:name="androidx.navigation.fragment.NavHostFragment"
    android:layout_width="match_parent"
    android:layout_height="match_parent"

    app:defaultNavHost="true" /&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>Create the <code>journey_app.xml</code> navigation file with the following content:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;navigation
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"

    android:id="@+id/journeyAppGraph"
    android:label="Accounts Statements Graph Navigation"
    app:startDestination="@+id/accountStatementsJourney"&gt;

    &lt;fragment
        android:id="@+id/accountStatementsJourney"
        android:name="com.backbase.android.retail.journey.accountstatements.AccountStatementsJourney"
        android:label="Accounts Statements Journey" /&gt;

&lt;/navigation&gt;</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Enable the app to launch the journey from the <strong>Transactions</strong> page.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Define the following <code>EventObservable</code> in <code>onCreate()</code> of <code>TransactionsWidgetView.kt</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">const val ACTION_OPTION_MENU_SHOW_PRODUCT_STATEMENTS = "bb.action.options.menu.product.statements"

private val productStatementsOpenListener = object : BroadcastReceiver() {
    override fun onReceive(context: Context, intent: Intent) {
        val newIntent = Intent(context, JourneyActivity::class.java)
        newIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)
        newIntent.putExtra("product", contract.selectedProduct)
        context.startActivity(newIntent)
    }
}

EventObservable(ACTION_OPTION_MENU_SHOW_PRODUCT_STATEMENTS).observe(this, productStatementsOpenListener)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now you can trigger this event from any click action inside <code>TransactionsActivity</code> with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">EventHelper.publish(ACTION_OPTION_MENU_SHOW_PRODUCT_STATEMENTS)</code></pre>
</div>
</div>
</li>
<li>
<p>Create a button with the label <strong>Account Statements</strong>
and publish the event on click of that button.</p>
<div class="paragraph">
<p>To launch the navigation graph of the journey,
in <code>JourneyActivity</code> replace <code>TODO</code> with the following lines:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">val baseProduct = intent.getParcelableExtra&lt;BaseProduct&gt;("product")

val productItemData = TransactionUtils().initializeData(baseContext, baseProduct)

val accountModel = AccountModel {
  id = baseProduct?.id
  name = baseProduct?.name
  number = baseProduct?.getFormattedAccountNumber()
  amount = productItemData?.mainAmount?.amount?.toDouble()
  currencyCode = productItemData?.mainAmount?.currencyCode
}

findNavController().setGraph(R.navigation.journey_app, AccountStatementsJourney.getArgs(accountModel))</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Run the app.</p>
<div class="paragraph">
<p>You can now navigate to the <strong>Account statements</strong> journey from the <strong>Transactions</strong> page.</p>
</div>
</li>
</ol>
</div>
<h2 id="journeys_in_widget_architecture_ios" class="discrete">Integrate a journey in your iOS app</h2>
<div class="paragraph">
<p>Follow these steps to integrate the <strong>Account Statements</strong> journey in your widget-based iOS app:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="https://community.backbase.com/documentation/Retail-Apps/2021.08/import_mobile_journey">Add the required dependencies</a>.</p>
</li>
<li>
<p>Configure your journey and your app to connect them.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>To configure the journey,
create an instance of <code>RetailAccountStatements.Configuration</code>.
To make sure that <code>RetailAccountStatements</code> finds this instance,
use <code>Resolver</code> to register it.</p>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-swift" data-lang="swift">import Foundation
import RetailAccountStatementsJourney
import Resolver
import Backbase

class JourneysConfiguration {
    var accountStatements = RetailAccountStatements.Configuration()

    init() {
        Resolver.register { self.accountStatements }
    }
}</code></pre>
</div>
</div>
</li>
<li>
<p>If your app uses local models, create a local data provider and add the models that the journey needs. If your app does not use local models, skip this step.</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Create <code>LocalDataProvider</code> as a subclass of <code>DBSDataProvider</code>, and use <code>Resolver</code> to register an instance of it.
The journey uses the instance of <code>DBSDataProvider</code> that <code>Resolver</code> returns, to send and receive network requests.
<code>LocalDataProvider</code> always returns the contents of <code>statements.json</code> as a response.</p>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-swift" data-lang="swift">import Backbase

class JourneysConfiguration {
    // ...
    let localDataProvider = LocalDataProvider(path: "assets/backbase/conf/API/v2/account/statements.json")

    init() {
        Resolver.register { self.localDataProvider as DBSDataProvider }
        // ..
    }
}

// Use the local data provider if you want to use a local file to test with.
class LocalDataProvider: NSObject, DBSDataProvider {
    private let path: String

    init(path: String) {
        self.path = path
    }

    public func execute(_ request: URLRequest, completionHandler: ((URLResponse?, Data?, Error?) -&gt; Swift.Void)? = nil) {
        let filePath = Bundle.main.path(forResource: self.path, ofType: nil)

        guard let file = filePath else {
            completionHandler?(nil, nil, NSError(domain: "File not found", code: 404, userInfo: nil))
            return
        }

        if let data = NSData(contentsOfFile: file) {
            let response = HTTPURLResponse(url: URL(fileURLWithPath: self.path),
                                           statusCode: 200,
                                           httpVersion: "1.0",
                                           headerFields: ["x-total-count": "10"])
            completionHandler?(response, data as Data, nil)
        }
    }
}</code></pre>
</div>
</div>
</li>
<li>
<p>Create <code>statements.json</code> with the following content:</p>
<div class="listingblock">
<div class="title">assets/backbase/conf/API/v2/account/statements.json</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">[
  {
    "accountId": "8a8095fa70c519470170cf50182e00a8",
    "accountName": "Current Account USD QRP556",
    "date": "2020-10-01",
    "description": "Others for month 10/2020",
    "category": "Others",
    "documents": [
      {
        "uid": "2531192c-dcbc-403d-aea2-42ad055df71d_10-2020",
        "contentType": "application/pdf"
      }
    ]
  },
  {
    "accountId": "8a8095fa70c519470170cf50182e00a8",
    "accountName": "Current Account USD QRP556",
    "date": "2020-09-01",
    "description": "Letters for month 09/2020",
    "category": "Letters",
    "documents": [
      {
        "uid": "2531192c-dcbc-403d-aea2-42ad055df71d_09-2020",
        "contentType": "application/pdf"
      }
    ]
  },
  {
    "accountId": "8a8095fa70c519470170cf50182e00a8",
    "accountName": "Current Account USD QRP556",
    "date": "2020-08-01",
    "description": "Notifications for month 08/2020",
    "category": "Notifications",
    "documents": [
      {
        "uid": "2531192c-dcbc-403d-aea2-42ad055df71d_08-2020",
        "contentType": "application/pdf"
      }
    ]
  },
  {
    "accountId": "8a8095fa70c519470170cf50182e00a8",
    "accountName": "Current Account USD QRP556",
    "date": "2020-07-01",
    "description": "Tax statements for month 07/2020",
    "category": "Tax statements",
    "documents": [
      {
        "uid": "2531192c-dcbc-403d-aea2-42ad055df71d_07-2020",
        "contentType": "application/pdf"
      }
    ]
  },
  {
    "accountId": "8a8095fa70c519470170cf50182e00a8",
    "accountName": "Current Account USD QRP556",
    "date": "2020-06-01",
    "description": "Account Statements for month 06/2020",
    "category": "Account Statements",
    "documents": [
      {
        "uid": "2531192c-dcbc-403d-aea2-42ad055df71d_06-2020",
        "contentType": "application/pdf"
      }
    ]
  },
  {
    "accountId": "8a8095fa70c519470170cf50182e00a8",
    "accountName": "Current Account USD QRP556",
    "date": "2020-05-01",
    "description": "Others for month 05/2020",
    "category": "Others",
    "documents": [
      {
        "uid": "2531192c-dcbc-403d-aea2-42ad055df71d_05-2020",
        "contentType": "application/pdf"
      }
    ]
  },
  {
    "accountId": "8a8095fa70c519470170cf50182e00a8",
    "accountName": "Current Account USD QRP556",
    "date": "2020-04-01",
    "description": "Letters for month 04/2020",
    "category": "Letters",
    "documents": [
      {
        "uid": "2531192c-dcbc-403d-aea2-42ad055df71d_04-2020",
        "contentType": "application/pdf"
      }
    ]
  },
  {
    "accountId": "8a8095fa70c519470170cf50182e00a8",
    "accountName": "Current Account USD QRP556",
    "date": "2020-03-01",
    "description": "Notifications for month 03/2020",
    "category": "Notifications",
    "documents": [
      {
        "uid": "2531192c-dcbc-403d-aea2-42ad055df71d_03-2020",
        "contentType": "application/pdf"
      }
    ]
  },
  {
    "accountId": "8a8095fa70c519470170cf50182e00a8",
    "accountName": "Current Account USD QRP556",
    "date": "2020-02-01",
    "description": "Tax statements for month 02/2020",
    "category": "Tax statements",
    "documents": [
      {
        "uid": "2531192c-dcbc-403d-aea2-42ad055df71d_02-2020",
        "contentType": "application/pdf"
      }
    ]
  },
  {
    "accountId": "8a8095fa70c519470170cf50182e00a8",
    "accountName": "Current Account USD QRP556",
    "date": "2020-01-01",
    "description": "Account Statements for month 01/2020",
    "category": "Account Statements",
    "documents": [
      {
        "uid": "2531192c-dcbc-403d-aea2-42ad055df71d_01-2020",
        "contentType": "application/pdf"
      }
    ]
  }
]</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Navigate from a widget in the app to your journey.</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To navigate from <code>TransactionsWidget</code> to <code>RetailAccountStatementsJourney</code>:</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>In <code>TransactionsAccountHeaderView.swift</code>, make the following changes:</p>
<div class="ulist">
<ul>
<li>
<p>Create <code>statementButton</code>,  and add it to <code>stackView</code>. When bank customer taps this button, <code>statementDidTap</code> is called.</p>
</li>
<li>
<p>Store <code>product</code> that you get in <code>configure(for:)</code> in a new proprty with the same name.</p>
</li>
<li>
<p>In the <code>statementDidTap</code> method, create an instance of <code>Account</code> using <code>product</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Call the journey&#8217;s <code>build</code> method and pass the following to it:</p>
<div class="ulist">
<ul>
<li>
<p>A <code>UINavigationController</code>. See
<a href="https://community.backbase.com/documentation/Retail-Apps/2021.08/configure_navigation_mobile_app#configure_navigation_mobile_app_ios">Configure navigation for iOS</a>.</p>
</li>
<li>
<p>An <code>Account</code> object. This is the account for which the account statements are shown.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-swift" data-lang="swift">// ..

final class TransactionsAccountHeaderView: UIView {

    // ...

    private let journeysConfig = JourneysConfiguration()
    private var product: BBBaseProduct?

    private lazy var statementButton: UIButton = {
        let button = UIButton()
        button.setTitle("#", for: .normal)
        button.setTitleColor(.black, for: .normal)
        button.addTarget(self, action: #selector(statementDidTap(_:)), for: .touchUpInside)
        return button
    }()

    // ...

    private lazy var stackView: UIStackView = {

        // ...

        return createStackView(arrangedSubviews: [infoStackView, balanceLabel, statementButton], axis: .horizontal)
    }()

    // ...


    func configure(for product: BBBaseProduct?) {

        // ...

        self.product = aProduct

        // ...

    }

    // ...

    @objc
    private func statementDidTap(_ sender: UIButton) {
        if let navigationController = bb.parentViewController?.navigationController,
           let account = product as? BBCurrentAccount {

            let account = Account(
                identifier: account.identifier,
                accountIcon: journeysConfig.accountStatements.categoryIconMapping.categoryIconMap["account statements"] ?? UIImage(),
                bankName: account.productKindName,
                accountName: account.bankAlias ?? account.name,
                accountNumber: account.bban,
                amount: "$\(account.availableBalance!)"
            )

            let viewController = RetailAccountStatements.build(navigationController: navigationController,
                                                               account: account)
            navigationController.pushViewController(viewController, animated: true)
        }
    }
}</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</body>
</html>